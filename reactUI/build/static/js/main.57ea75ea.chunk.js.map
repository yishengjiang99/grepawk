{"version":3,"sources":["components/Window.js","components/Table.js","components/ListView.js","FileExplorer/GFileSelector.js","Broadcast/BroadcastClient.js","Composer.js","Terminal.js","HUD.js","Video.js","Camera.js","Broadcast/MediaObject.js","Broadcast/Broadcast.js","Broadcast/BroadcastViewerClient.js","Broadcast/Watch.js","AppIconGrid.js","FileExplorer/APIFileSystem.js","FileExplorer/ChromeFileSystem.js","FileExplorer/VFS.js","FileExplorer/GFileListItem.js","components/Modal.js","SearchBar.js","FileExplorer/Composer.js","FileExplorer/Finder.js","APICalls.js","Desktop.js","index.js"],"names":["Window","props","onNavBarClick","e","mode","target","className","setState","prev","maximized","minimized","closed","ipc","pid","renderNavTop","onMouseDown","onNavbarMouseDown","onClick","title","window","addEventListener","onNavbarMouseMove","onNavbarMouseUp","mouseX","clientX","mouseY","clientY","lastMouseX","lastMouseY","isDragging","removeEventListener","state","dragging","deltaX","deltaY","left","top","onCornerMouseDown","onCornerMouseMove","onCornerMouseUp","isResizing","width","height","renderFooter","windowInfo","style","float","this","boxClass","sizeStyle","cursor","zIndex","children","React","Component","Table","require","Parser","renderHeaders","headers","key","map","header","i","renderLink","cmd","desc","ref","createRef","clickedCmd","renderBody","rows","row","renderTableRow","val","opt","img_url","src","border","ListView","list","item","description","GFileSelector","componentDidMount","renderFileSelectedList","files_selected","renderControlPanel","status","onCancel","onSave","onFileChange","alert","type","id","name","onChange","onFilesChange","peerRTCConfig","url","credential","username","signalServerURL","location","hostname","BroadcasterClient","config","console","signalConnection","host_uuid","onEvent","log","peerConnections","localTracks","trackDescriptor","track","dimensions","live","updateTrackForPeers","Object","values","forEach","client","updateTracks","requestUserStream","Promise","resolve","reject","a","navigator","mediaDevices","getDisplayMedia","stream","getUserMedia","video","audio","Error","addStream","getTracks","idx","push","addTrack","removeStream","removeTrack","stop","startBroadcast","channelName","WebSocket","onmessage","event","data","JSON","parse","client_uuid","peerConnection","RTCPeerConnection","metadataChannel","createDataChannel","trackMap","sendMetaData","readyState","setTimeout","metadata","keys","trackId","active","payload","send","stringify","onopen","onicecandidate","candidate","to_uuid","onnegotiationneeded","evt","createOffer","offer","setLocalDescription","tracks","set_sdp_anwser","answer","setRemoteDescription","addIceCandidate","BroadcasterRTCConnection","user_join_request","user_sent_sdp_answser","user_sent_peer_ice_candidate","json","channel","onerror","phase_graph","Composer","renderOptions","path","phase","p","display","nextProps","prevState","socket","node_ws_url","getUUID","uuid","localStorage","getItem","d","Date","getTime","performance","now","replace","c","r","Math","random","floor","toString","generateUUID","setItem","Terminal","initSocket","OPEN","CONNECTING","onAddOutputRow","clearTimeout","timeoutId","image","Image","URL","createObjectURL","startsWith","stdout","parseAPIResponse","output_rows","concat","stderr","table","userInfo","quests","hint","onBroadcastEvent","composeCmd","args","renderOutputRow","composerPhase","color","foregroundPid","disabled","value","stdin","keyboardLoaded","focus","windowLoaded","document","getElementsByClassName","scrollTo","offsetHeight","locallyProcessed","cmd_str","t","split","splice","composerState","keyboardPressed","keyCode","renderInputBar","stdinPromptString","autoFocus","onLoad","onKeyDown","size","autoComplete","clickOnTerminal","getElementById","scrollToBottom","messagesEnd","scrollIntoView","behavior","prompt","promptInput","broadclient","BroadcastClient","output_cursor_position","canvasStream","canvasStream2","backgroundColor","el","hudStyle","marginRight","HUD","fname","cwd","xp","points","Video","srcObject","media","muted","autoPlay","playsInLine","defaultProps","signal_connection","rtcConn","optional","Camera","enteredRoom","signalConnected","videoOn","audioOn","flashMessage","error","myStream","room","isHost","remoteStreams","joinRoom","initiateRTCPeerConnection","ontrack","streams","tracklist","onicecandidateerror","message","onLoggedInWithSignalServer","usersCount","then","catch","channelJoined","onReceivedRemoteConnectionOffer","RTCSessionDescription","createAnswer","caller_id","onReceivedConnectionRequestResponse","sdp","onReceivedICECandidate","chatRoomChanged","audioCheckBoxChanged","videoCheckBoxChanged","gotMyStream","renderLobby","checked","renderRoom","remoteStream","onClosed","videoRef","msg","MediaObject","renderVideo","renderText","text","renderImage","pictureUrl","renderAudio","streamType","mediaObject","divStyle","position","notDraggable","defaultDimensions","screenshare","webcam","picture","Broadcast","streamElements","additionalStreamParts","broadcasting","broadcastEvents","events","updateStreamElements","cstate","broadcastClient","updateAdditionalStreamElements","parts","renderObjectives","renderPreview","part","controlClicked","control","turnOn","existingStream","renderConsole","startBroadcasting","confirm","stopBroadcasting","renderControls","isOn","btnClass","renderHeader","href","draggable","previewDiv","BroadcastViewerClient","clientConnection","mediaObjectReady","remoteTracks","mediaObjectOffline","remoteTrackMetaData","hostId","showRemoteTracks","length","MediaStream","kind","ondatachannel","trackMetaData","watchChannel","gotSDP","Watch","_objs","renderStream","broadcastViewerClient","AppIconGrid","iconClicked","bind","icon","icons","index","col","iconStyle","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","borderColor","borderWidth","NODE_API_HOSTNAME","NODE_STDOUT","api_fs","mntType","fileMap","API_LIST_NAME","sync_api_get_json","fetch","resp","err","file_get_stream","ws","get_files","fileList","node","fullPath","file_get_meta","modificationTime","updated_at","file_get_content","response","body","upload_files","files","basePath","onMessage","_file","method","contentType","update","IMG_EXTS","chrome_fs","localFS","g_init_local_fs","requestFileSystem","PERSISTENT","_localFS","root","g_file_get_content","getFile","create","exclusive","entry","file","reader","FileReader","readType","onloadend","result","test","readAsDataURL","readAsText","g_file_put_contents","content","append","fileEntry","createWriter","writer","seek","blob","Blob","write","getDirEntriesSync","getDirectory","directory","createReader","readEntries","entries","g_list_local_files","nodes","edges","queue","root_node","parent","pop","isDirectory","handleError","g_upload_file_sync","fsroot","fentry","g_upload_files","webkitRequestFileSystem","directoryEntry","webkitDirectoryEntry","ret","getMetadata","meta","file_put_content","filename","GREPAWK_STDIN","Vfs","upload_file_market","readAsArrayBuffer","close","api_post_json","uri","cache","GFileListItem","vfs","fetchingMeta","that","fileMetaDescriptor","rowIndex","rowStyle","paddingLeft","faName","clickedDir","clickedFile","right","format","date","Modal","clickedSave","onSubmit","answers","stateAnwsers","questions","question","for","initialAnswers","modalStyle","onClose","aria-label","aria-hidden","SearchBar","renderSuggestions","isTyping","autoSuggestions","suggestion","autoSuggestionCursor","onMouseEnter","keyboardInput","current","focusTextInput","updateAutoSuggest","inputString","typingFirstWord","currentWord","matches","verbSuggestions","filter","includes","inputHistory","inputHistoryCursor","isFetchingSuggestion","verb","searchBarStyle","searchBarStyleTyping","onFocus","onBlur","placeHolder","editor","additionalSuggestionGraph","placeholderText","Finder","getFiles","get_full_path","basename","dirs","join","add_file","isComposing","composingTitle","composingContent","upload_to_vfs","_files","uploads","getFullBasePath","updateMessage","prompt_array","anwsers","q","previewFile","overflow","renderPreviewContent","class","isPublishing","fileBeingPublished","previewURL","previewContentType","objectFit","previewText","renderFileInfo","colspan","fs_type","fh","buffers","lineNumber","preview_content","dir","new_dirs","current_node_id","backDir","dirId","renderBreadCrumb","renderBody2","files_displayed","node_id","bottom","padding","isUploadingFiles","multiple","publishFile","responses","xpath","price","tags","info","composer","questionTypes","API","Desktop","processes","gold","renderSearchBar","pathname","search","api_get_json","_userInfo","plist","proc","renderHud","renderBackground","renderQuestView","ReactDOM","render"],"mappings":"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","file":"static/js/main.57ea75ea.chunk.js","sourcesContent":["import React from 'react'\nimport './Window.css';\nimport Draggable from 'react-draggable'; // The default\n\nfunction debug(msg){\n //   document.getElementById(\"debug\").innerHTML+=\"<br>\"+msg;\n}\n\nclass Window extends React.Component{\n    constructor(props){\n        super(props);\n        this.state ={\n            minimized:false,\n            maximized:false,\n            closed:false,\n            isResizing:false,\n            isDragging: false,\n            top: props.top || 20,\n            left: props.left || 400,\n            width: props.width || 800, \n            height: props.height || 400,\n            lastMouseX: 0,\n            lastMouseY: 0\n        }\n    }\n    onNavBarClick=(e)=>{\n        const mode = e.target.className;\n        if(mode==='maximize'){\n            this.setState(prev=>({\n                maximized: !prev.maximized\n            }));\n        }else if(mode==='minimize'){\n            this.setState(prev=>({\n                minimized: !prev.minimized\n            }));\n        }else if(mode==='close'){\n            this.setState({closed:true});\n            this.props.ipc(\"close\", [this.props.pid]);\n        }\n    }\n    renderNavTop=()=>{\n        return (\n        <div className='title' onMouseDown={this.onNavbarMouseDown}>\n            <button className='close' onClick={this.onNavBarClick}>x</button>\n            <button className='maximize' onClick={this.onNavBarClick}>[]</button>\n            <button className='minimize' onClick={this.onNavBarClick}>_</button>\n            <p className='title'>{this.props.title}</p>\n        </div>\n        )\n    }\n\n\n    onNavbarMouseDown=(e)=>{\n        window.addEventListener(\"mousemove\",this.onNavbarMouseMove);\n        window.addEventListener(\"mouseup\", this.onNavbarMouseUp);\n        var mouseX=e.clientX;\n        var mouseY=e.clientY;\n        this.setState({\n            lastMouseX: mouseX,\n            lastMouseY: mouseY,\n            isDragging:   true\n        });\n    }\n    onNavbarMouseUp=(e)=>{\n        window.removeEventListener(\"mouseup\",this.onNavbarMouseUp);\n        window.removeEventListener(\"mousemove\",this.onNavbarMouseMove);\n\n    }\n    onNavbarMouseMove=(e)=>{\n        var mouseX=e.clientX;\n        var mouseY=e.clientY;\n        if(this.state.dragging===false) return;\n\n        const deltaX = mouseX - this.state.lastMouseX;\n        const deltaY = mouseY - this.state.lastMouseY;\n        this.setState({\n            left: this.state.left+deltaX,\n            top: this.state.top+deltaY,\n            lastMouseX: mouseX,\n            lastMouseY: mouseY,\n            maximized:  false,\n            minimized:  false,\n        })\n\n    }\n    onCornerMouseDown=(e)=>{\n        window.addEventListener(\"mousemove\",this.onCornerMouseMove);\n        window.addEventListener(\"mouseup\", this.onCornerMouseUp);\n        var mouseX=e.clientX;\n        var mouseY=e.clientY;\n        debug(\"mouse down\");\n        this.setState({\n            lastMouseX: mouseX,\n            lastMouseY: mouseY,\n            maximized:  false,\n            minimized:  false,\n            isResizing:   true\n        });\n    }\n    onCornerMouseUp=(e)=>{\n        this.setState({isResizing:false,lastMouseX:0, lastMouseY:0});\n        window.removeEventListener(\"mouseup\",this.onCornerMouseUp);\n        window.removeEventListener(\"mousemove\",this.onCornerMouseUp);\n    }\n\n    onCornerMouseMove=(e)=>{        \n        var mouseX=e.clientX;\n        var mouseY=e.clientY;\n        if(this.state.isResizing===false){\n            return;\n        }\n        debug(\"mouse move \"+mouseX+\" \"+mouseY);\n\n        const deltaX = mouseX - this.state.lastMouseX;\n        const deltaY = mouseY - this.state.lastMouseY;\n        this.setState({\n            width: this.state.width+deltaX,\n            height: this.state.height+deltaY,\n            lastMouseX: mouseX,\n            lastMouseY: mouseY\n        })\n    }\n    renderFooter=()=>{\n        return (\n            <div className=\"footer\" onMouseDown={this.onCornerMouseDown}>\n                <span>{this.props.windowInfo}</span>\n                <span className='corner' style={{float:\"right\"}}></span>\n            </div>\n        )\n    }\n\n    render(){\n        if(this.state.closed) return null;\n        var boxClass=\"box\";\n        if (this.props.className) \n            boxClass = this.props.className +\" \"+boxClass;\n\n        \n        const sizeStyle={\n            top:    this.state.maximized    ? 0      : this.state.top,\n            left:   this.state.maximized    ? 0      : this.state.left ,\n            width:  this.state.maximized    ? \"100%\" : this.state.width,\n            cursor: this.state.isResizing   ? \"se-resize\" : \"cursor\",\n            height: this.state.minimized    ? 18     : this.state.maximized ? \"100%\" : this.state.height,\n            zIndex: 10\n        }\n\n        const corderStyle={\n            cursor: 'se-resize',\n            float:\"right\"\n        }\n\n        return (\n            <div className={boxClass} style={sizeStyle}>\n                {this.renderNavTop()}\n                <div className='body'>\n                  {this.props.children}\n\n                </div>\n                <div className=\"footer\" onMouseDown={this.onCornerMouseDown}>\n                        <span>{this.props.windowInfo}</span>\n                        <span className='corner' style={corderStyle}></span>\n                </div>\n          </div>\n       ) \n    }\n}\n\nexport default Window;","import React from 'react';\nvar HtmlToReactParser = require('html-to-react').Parser;\n\nclass Table extends React.Component{\n    constructor(props){\n        super(props);\n    }\n    renderHeaders=()=>{\n        if(!this.props.headers) return null;\n        return (\n            <thead>\n                <tr key={'tbtrh1'}>    \n                {this.props.headers.map((header,i)=>{\n                    return (<th key={\"th\"+i}>{header}</th>)\n                })}\n                </tr>\n            \n            </thead>\n        )\n    }\n\n    renderLink=(cmd, desc)=>{\n        return (\n            <span ref={React.createRef()}\n                className='terminal-link' \n                onClick={()=>{this.props.clickedCmd(cmd)}}>\n                {desc}\n            </span>\n        )\n    }\n    renderBody=()=>{\n        if(!this.props.rows) return null;\n        return (\n            <tbody>\n            {this.props.rows.map((row)=>{\n                return this.renderTableRow(row);\n             })}\n            </tbody>\n        )\n    }\n\n    render(){\n        return(\n        <table className={this.props.className || \"table\"} border=\"1\">\n            {this.renderHeaders()}\n            {this.renderBody()}\n        </table>\n        )\n    }\n    renderTableRow=(row)=>{\n        return (\n            <tr>{\n                this.props.headers.map((header)=>{\n                    var val = row[header] || \"\";\n                    if (header == \"opts\") {\n                        var opt = val[0];\n                        return (<td>{this.renderLink(opt.cmd, opt.desc)}</td>)\n                    }else if (header === 'thumbnail') {\n                        var img_url = val;\n                        return (<td><img width={120} src={img_url} /></td>)\n                    } else {\n                        return (<td>{val}</td>)\n                    }\n                })\n            }</tr>\n        )\n    }\n}\n\nexport default Table;","import React from 'react';\nclass ListView extends React.Component{\n    render(){\n        return (\n            <div className={this.props.className}>\n                <h5>{this.props.title}</h5>\n                <ul>\n                    {this.props.list && this.props.list.map ? this.props.list.map((item, i) => {\n                        return (\n                            <li key={\"list-\" + i}>\n                                <h5 className=\"list-header\">{item.title}</h5>\n                                <div className=\"list-body\">{item.description}</div>\n                            </li>\n                        )\n                    }):null}\n                </ul>\n            </div>\n        )\n    }\n}\n\nexport default ListView;","import React from 'react'\nimport ListView from '../components/ListView';\n\nclass GFileSelector extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            files_selected: [],\n            status: \"new\"\n        }\n    }\n    componentDidMount=()=>{\n\n    }\n    renderFileSelectedList=()=>{\n        return (\n            <ListView headers={['name','size','type']} rows={this.state.files_selected}>\n            </ListView>\n        )\n    }\n    renderControlPanel=()=>{\n        return this.state.status==='new' ?\n        (\n            <div className='ctrl-panel'>\n                <button className='btn btn-secondary' onClick={this.onCancel}>Cancel</button>\n                <button className='btn btn-primary' onClick={this.onSave}> Save</button>\n            </div>\n        ) : (\n            <div></div>\n        )  \n    }\n    onFileChange=(e)=>{\n\n    }\n    onSave =(e)=>{\n        \n    }\n    onCancel=(e)=>{\n        alert(\"cancel\");\n    }\n\n    render(){\n        return(\n            <div className='anchor'>\n                <input type=\"file\" \n                    className=\"form-control\" \n                    id=\"file-select-input\" \n                    name=\"file\"\n                    onChange={this.props.onFilesChange || this.onFileChange} />\n            {this.renderFileSelectedList()}\n            {this.renderControlPanel()}\n        </div>\n        )\n    }\n}\nexport default GFileSelector;","const peerRTCConfig = {\n    'RTCIceServers': [{url:'stun:stun01.sipphone.com'},\n    {url:'stun:stun.ekiga.net'},\n    {url:'stun:stun.fwdnet.net'},\n    {url:'stun:stun.ideasip.com'},\n    {url:'stun:stun.iptel.org'},\n    {url:'stun:stun.rixtelecom.se'},\n    {url:'stun:stun.schlund.de'},\n    {url:'stun:stun.l.google.com:19302'},\n    {url:'stun:stun1.l.google.com:19302'},\n    {url:'stun:stun2.l.google.com:19302'},\n    {url:'stun:stun3.l.google.com:19302'},\n    {url:'stun:stun4.l.google.com:19302'},\n    {url:'stun:stunserver.org'},\n    {url:'stun:stun.softjoys.com'},\n    {url:'stun:stun.voiparound.com'},\n    {url:'stun:stun.voipbuster.com'},\n    {url:'stun:stun.voipstunt.com'},\n    {url:'stun:stun.voxgratia.org'},\n    {url:'stun:stun.xten.com'},\n    {\n        url: 'turn:numb.viagenie.ca',\n        credential: 'muazkh',\n        username: 'webrtc@live.com'\n    },\n    {\n        url: 'turn:192.158.29.39:3478?transport=udp',\n        credential: 'JZEOEt2V3Qb0y27GRntt2u2PAYA=',\n        username: '28224511:1379330808'\n    },\n    {\n        url: 'turn:192.158.29.39:3478?transport=tcp',\n        credential: 'JZEOEt2V3Qb0y27GRntt2u2PAYA=',\n        username: '28224511:1379330808'\n        }]\n}\n\n\nconst signalServerURL = window.location.hostname == 'localhost' ? \"ws://localhost:9091\" : \"wss://grepawk.com/signal\";\n\nfunction BroadcasterClient(config) {\n    config = config || {};\n    config.console = config.console || \"console\";\n    const hostname = config.hostname || signalServerURL;\n    let onEvent = config.onEvent || console.log;\n    let signalConnection;\n    let peerConnections = {};\n    let localTracks=[];\n    var host_uuid;\n\n    function trackDescriptor(id, track,dimensions){\n        return{\n            id:id, track:track, dimensions:dimensions, live:true\n        }\n    }\n    function addTrack(track, dimensions){\n        for(var idx in localTracks){\n            if(localTracks[idx].id===track.id){\n                localTracks[idx]=trackDescriptor(track.id, track, dimensions);\n            }\n        }\n        localTracks.push(trackDescriptor(track.id, track, dimensions));\n    }\n    function removeTrack(track){\n        for(var idx in localTracks){\n            if(localTracks[idx].id===track.id){\n                localTracks[idx].live=false;\n            }\n        }\n    }\n    function sendJson(json, to_uuid) {\n        if (to_uuid) json[to_uuid] = to_uuid;\n        signalConnection.send(JSON.stringify(json));\n    }\n\n    function startBroadcast(channelName) {\n        signalConnection = new WebSocket(hostname);\n        signalConnection.onmessage = (event) => {\n            const data = JSON.parse(event.data);\n            onEvent(event.data.type ||\"\");\n            switch (data.type) {\n                case 'registered':\n                    host_uuid = data.host_uuid;\n                break;\n                case 'user_joined':\n                    user_join_request(data);\n                    break;\n                case 'answer':\n                    user_sent_sdp_answser(data);\n                    break;\n                case 'candidate':\n                    user_sent_peer_ice_candidate(data);\n                    break;\n                case 'user_left':\n                    break;\n                default:\n                    break;\n            }\n        }\n        signalConnection.onopen = (e) => {\n            sendJson({\n                type: \"register_stream\",\n                channel: channelName\n            });\n            onEvent(\"Stream registered \"+channelName);\n        }\n        signalConnection.onerror = (e) => onEvent(\"ERROR: signalconnection not connecting\", e);\n    }\n\n    function user_sent_peer_ice_candidate(data) {\n        if (!data.client_uuid || !data.candidate) throw new Error(\"unexpected request in user_sent_peer_ice_candidate\");\n        peerConnections[data.client_uuid].addIceCandidate(data.candidate);\n        onEvent(\"add peer ice candidate from \" + data.client_uuid);\n    }\n\n    function user_sent_sdp_answser(data) {\n        if (!data.client_uuid || !data.answer) throw new Error(\"unexpected request in user_sent_peer_ice_candidate\");\n        peerConnections[data.client_uuid].set_sdp_anwser(data.answer);\n    }\n\n    function user_join_request(data) {\n        if (!data.client_uuid) throw new Error(\"unexpected user_join request\");\n        peerConnections[data.client_uuid] = BroadcasterRTCConnection(signalConnection, data.client_uuid,host_uuid,onEvent);\n        peerConnections[data.client_uuid].updateTracks(localTracks);\n        \n    }\n    function updateTrackForPeers(){\n        Object.values(peerConnections).forEach(client=>{\n            client.updateTracks(localTracks);\n        })\n    }\n\n    function addStream(stream,dimensions){\n        stream.getTracks().forEach(track=>{\n            addTrack(track, dimensions);\n        })       \n        updateTrackForPeers();\n    }\n\n    function removeStream(stream){\n        stream.getTracks().forEach((track)=>{\n            removeTrack(track);\n            track.stop();\n        })\n        updateTrackForPeers();\n        return null;\n    }\n\n    function requestUserStream(type){\n        return new Promise(async (resolve,reject)=>{\n            try {\n                let stream;\n                if(type==\"screenshare\"){\n                    stream =  await navigator.mediaDevices.getDisplayMedia();\n                }else if(type==\"webcam\"){\n                    stream = await navigator.mediaDevices.getUserMedia({video:true, audio:false});\n                }else if(type==\"audio\"){\n                    stream = await navigator.mediaDevices.getUserMedia({video:false, audio:true});\n                }else{\n                    reject(new Error(\"Unkown type\"))\n                }\n                if(stream) resolve(stream);\n                else resolve(null);\n            } catch (e) {\n               reject(e);\n            }\n        })\n    }\n\n    return {\n        requestUserStream: requestUserStream,\n        addStream: addStream,\n        removeStream:removeStream,\n        peerConnections: peerConnections,\n        startBroadcast: startBroadcast\n    }\n}\nfunction BroadcasterRTCConnection(signalConnection, client_uuid,host_uuid,onEvent) {\n    var signalConnection = signalConnection;\n    var client_uuid = client_uuid;\n    var host_uuid;\n    var peerConnection = new RTCPeerConnection(peerRTCConfig);\n    var metadataChannel = peerConnection.createDataChannel(\"metadata\");\n\n    var trackMap={};\n\n    metadataChannel.onopen = function(){\n        onEvent(\"Meta channel open with \"+client_uuid);\n        sendMetaData();\n    }\n    peerConnection.onicecandidate = (e) => {\n        if (e.candidate) {\n            signalConnection.send(JSON.stringify({\n                type: \"candidate\",\n                candidate: e.candidate,\n                to_uuid: client_uuid,\n                host_uuid: host_uuid\n            }));\n        }\n    }\n    peerConnection.onnegotiationneeded = async (evt) => {\n        onEvent(\"creating sdp offer for \" + client_uuid);\n        const offer = await peerConnection.createOffer();\n        await peerConnection.setLocalDescription(offer);\n        signalConnection.send(JSON.stringify({\n            type: \"offer\",\n            to_uuid: client_uuid,\n            offer: offer,\n            host_uuid:host_uuid\n       }))\n    }\n    function sendMetaData(){\n        if(!metadataChannel || metadataChannel.readyState!=='open'){\n            onEvent(\"metadata channel not yet o0pen\");\n            setTimeout(sendMetaData, 1000);\n            return;\n        }\n        \n        let metadata=[];\n        let trackIds = Object.keys(trackMap);\n        trackIds.forEach(trackId=>{\n            let track = trackMap[trackId];\n            metadata.push({\n                trackId: track.id,\n                dimensions: track.dimensions,\n                live: track.active\n            })\n        })          \n        let payload = {\n            type:\"mediaMetadata\",\n            data: metadata\n        }\n        onEvent(\"sending metadata \", payload);\n        metadataChannel.send(JSON.stringify(payload));\n    }\n\n    return {\n        updateTracks: function(tracks){\n            for(var idx in tracks){\n               let trackId = tracks[idx].id;\n               if(typeof trackMap[trackId]!=='undefined'){\n                   continue;\n               }\n               trackMap[trackId] = tracks[idx];\n               if(tracks[idx].live) peerConnection.addTrack(tracks[idx].track);\n            }     \n            sendMetaData();\n        },\n\n        set_sdp_anwser: async function(answer) {\n            try {\n                await peerConnection.setRemoteDescription(answer);\n                onEvent(\"Remote Anwser set\"); \n            } catch (e) {\n                onEvent(\"ERROR: in set_dsp_anwser\");\n            }\n        },\n        addIceCandidate:function(candidate){\n            onEvent(\"add ice candidate \");\n            peerConnection.addIceCandidate(candidate);\n        }\n    }\n}\n\n// \nexport default BroadcasterClient;","import React from \"react\";\n\n\nconst phase_graph={\n    \"root\":[\"screenschare\",\"webcam\",\"audio\",\"radio\",\"canvas\",\"spreadsheet\", \"search\", \"wiki\"],\n    \"screenshare|webcam|audio\":[\"on\", \"off\"],\n    \"radio\": [\"%quary%\"],\n    \"canvas\": [\"image\",\"text\", \"pen\",\"rectangle\", \"circle\"],\n    \"search\": [\"image\",\"video\",\"pdf\",\"livestreams\"],\n    \"wiki\": [\"propmpt:term\"],\n\n}\n\n\nclass Composer extends React.Component{\n    // state={\n    //     phase: \"root\",\n    //     cmd:null,\n    //     args:null\n    // }\n    constructor(props){\n        super(props);\n        this.state={\n            phase: props.phase || \"root\"\n        }\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState){\n        debugger;\n        \n        if(prevState.phase !== nextProps.phase){\n            return ({phase : nextProps.phase});\n        }else if(nextProps.phase===\"1\"){\n            alert(\"hi\");\n        }\n    }\n\n    renderOptions=()=>{\n        let path = phase_graph[this.state.phase];\n        return (\n            <div className='container'>\n                {\n                    path.map((p,idx)=>{\n                        return (\n                            <div className=\"row justify-content-left\">\n                                <div className='md-col-3'></div>\n                                <div className='md-col-6'> {idx}. {p}</div>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n        )\n\n    }\n    render(){\n        return (\n            <div style={this.props.style||{display:\"block\"}}>\n                {this.props.title || \"Compose\"}\n                {this.renderOptions()}\n            </div>\n        )\n    }\n    \n}\nexport default Composer","import React from 'react'\nimport Window from './components/Window'\nimport './Terminal.css'\nimport Table from './components/Table'\nimport GFileSelector from './FileExplorer/GFileSelector'\nimport BroadcastClient from \"./Broadcast/BroadcastClient\"\nimport Composer from \"./Composer\";\nvar socket=null;\nconst node_ws_url = window.location.hostname == 'localhost' ?\n\"ws://localhost:8081\" : \"wss://grepawk.com/ws\";\n\nclass Terminal extends React.Component{\n    constructor(props){\n        super(props)\n        this.prompt=React.createRef();\n        this.promptInput = React.createRef();\n        this.broadclient = BroadcastClient({\n            onEvent: this.onBroadcastEvent,\n            console: \"stdin2\"\n        })\n        this.state={\n            socket,\n            output_rows:[],\n            output_cursor_position:0,\n            uuid: getUUID(),\n            canvasStream:null,\n            canvasStream2: null,\n            foregroundPid: null,\n            composerPhase: 'root'        \n         }\n    }\n\n    initSocket=()=>{\n        return new Promise((resolve, reject) => {\n            if (socket && socket.readyState === WebSocket.OPEN) {\n              resolve();\n              return;\n            }\n            if (socket && socket.readyState === WebSocket.CONNECTING) {\n              this.onAddOutputRow({type:\"text\",data:\"Connecting..\"});\n              resolve();\n              return;\n            } \n            socket = new WebSocket(node_ws_url);\n            socket.onopen = e => {\n              clearTimeout(timeoutId);\n              socket.send(\"check-in \" + this.state.uuid);\n              resolve();\n            }\n            socket.onmessage=(event)=>{\n                if (typeof event.data === 'object') {\n                    var image = new Image();\n                    image.src = URL.createObjectURL(event.data);\n                    this.onAddOutputRow({type:\"image\",data:image})\n                } \n                else if (event.data && event.data.startsWith(\"stdout: \")) {\n                    var stdout = event.data.replace(\"stdout: \", \"\");\n                    this.onAddOutputRow({type:\"text\",data:stdout})\n                }else if (event.data && event.data.startsWith(\"stderr: \")) {\n                    var stdout = event.data.replace(\"stderr: \", \"\");\n                    this.onAddOutputRow({type:\"text\",data:stdout})\n                }else{\n                    this.parseAPIResponse(JSON.parse(event.data));\n                }\n            }\n            var timeoutId=setTimeout(() => {\n                if(socket.readyState!==WebSocket.OPEN){\n                   // reject(new Error(\"connection timed outt\"));\n                }\n            }, 5000);\n          })\n    }\n    onAddOutputRow=(row)=>{\n        const list = this.state.output_rows.concat(row);\n        this.setState({output_rows:list});\n    }\n    parseAPIResponse=(data)=>{\n        if(data.stdout){\n            this.onAddOutputRow({type:\"text\",data:data.stdout})\n        }\n        if(data.stderr){\n            this.onAddOutputRow({type:\"text\",data:data.stderr})\n        }\n        if(data.table){\n            this.onAddOutputRow({type:\"table\",data:data.table})\n        }\n        if(data.userInfo){\n           // this.onAddOutputRow({type:\"text\",data: JSON.stringify(data)})\n            localStorage.setItem(\"uuid\", data.userInfo.uuid);\n            this.props.ipc(\"hud-update\",data.userInfo);\n        }\n        if(data.quests){\n            this.props.ipc(\"questlist\", data.quests);\n        }\n        if(data.hint){\n            //todo\n        }\n    }\n    \n   async componentDidMount(){\n        await this.initSocket();\n    }\n\n    onBroadcastEvent = (evt)=>{\n        alert(evt);\n    }\n    composeCmd=(cmd,args)=>{\n    }\n\n    renderOutputRow=(row,i)=>{\n        switch(row.type){\n            case 'compose':\n                return (<Composer \n                    title=\"Compose Tracks\" \n                    phase={this.state.composerPhase}\n                    ipc={this.composeCmd}>\n                    </Composer>);\n            case 'stdout':\n            case 'text':\n                return (<pre key={\"op-\"+i}> {row.data}</pre>)\n            case 'stderr':\n                var redStyle={color:\"red\"};\n                return (<pre key={\"op-\"+i}> <span style={redStyle}>{row.data}</span></pre>)\n            case 'stdin':      \n                return (<div className='input-line' key={\"op-\"+i}>\n                            <div className='prompt'>{this.state.foregroundPid}></div> \n                            <input className='cmdline input-line' disabled  value={row.cmd} />\n                        </div>);\n            case 'table':\n                 return(<div key={\"op-\"+i}><Table clickedCmd={this.stdin} \n                    className=\"table table-dark\" headers={row.data.headers} rows={row.data.rows}></Table></div>)\n            case 'imageLink':\n                return (\n                    <div key={\"op-\"+i}><img src={row.data}></img></div> \n                )\n            case 'filelink':\n                    return (\n                        <div key={\"op-\"+i}><iframe src={row.data}></iframe></div> \n                    )\n            case 'upload':\n                return (<GFileSelector></GFileSelector>);\n               break;\n            default: break;\n\n            \n        }\n    }\n    keyboardLoaded=(e)=>{\n      e.target.focus();\n    }\n    windowLoaded=(e)=>{\n       document.getElementsByClassName(\"terminal-body\").scrollTo(0,100);\n        e.target.offsetHeight=1000;\n    }\n\n    locallyProcessed=(cmd_str)=>{\n        if(!cmd_str) return false;\n\n        var t = cmd_str.split(\" \");\n        const cmd = t[0];\n        const args = t.splice(1);\n        if(this.state.foregroundPid===\"compose\"){\n            this.setState({\n                composerState:cmd\n            })\n            return true;\n        }\n        switch(cmd){\n            case 'compose':\n                this.setState({foregroundPid:'compose'});\n            case 'upload':\n            case 'openimage':\n                this.onAddOutputRow({type:cmd,data:args[0]});    \n                return true;       \n            case 'edit':\n                 this.props.ipc(cmd,args);\n                 return true;\n            case 'cam':\n            case 'new':\n            case 'stream':\n            case 'broadcast':\n            case 'draw':\n            case 'watch':\n                this.props.ipc(cmd,args);\n                return true;\n            default:\n                return false;\n        }\n\n    }\n    stdin=(cmd)=>{\n        this.onAddOutputRow({type:\"stdin\",cmd});\n        if(!this.locallyProcessed(cmd)){\n            socket.send(cmd);\n        }\n    }\n    \n    keyboardPressed=(e)=>{\n        if(e.keyCode==13){ //enter\n                this.stdin(e.target.value);\n            e.target.value=\"\";\n        }\n    }\n\n    renderInputBar = () => {\n        const stdinPromptString = this.state.foregroundPid || \"\";\n        return (<div className='input-line'>\n                    <div id='stdin-prompt' className='prompt'> {stdinPromptString}> </div>\n                    <input autoFocus={true}  \n                         onLoad={this.keyboardLoaded}\n                           onKeyDown={this.keyboardPressed}\n                           size='80' \n                           id=\"terminal_input\"\n                           autoComplete=\"off\"\n                           className='cmdline input-line' />\n                </div>\n        )\n    }\n\n    clickOnTerminal=(e)=>{\n          document.getElementById(\"terminal_input\").focus();;\n    }\n\n\n    render(){\n        const fontStyle={\n            color: \"white\",\n           backgroundColor:\"black\"\n        }\n        return (<Window className=\"terminal\" title={this.props.title} pid={this.props.pid} ipc={this.props.ipc}>\n            <div style={fontStyle} className='terminal-body' onClick={this.clickOnTerminal} >\n            {this.state.output_rows.map((row,i)=>{\n                return this.renderOutputRow(row,i);\n            })}\n            {this.renderInputBar()}\n            <div className=\"terminal-anchor\" ref={(el) => { this.messagesEnd = el; }}> </div>\n            </div>\n        </Window>) \n    }\n    componentDidUpdate() {\n        this.scrollToBottom();\n      }\n      scrollToBottom = () => {\n        this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n      }\n}\n\nfunction generateUUID() { // Public Domain/MIT\n    var d = new Date().getTime();\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function'){\n        d += performance.now(); //use high-precision timer if available\n    }\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n}\nfunction getUUID()  {\n    var uuid = localStorage.getItem(\"uuid\") \n    if(uuid) return uuid;\n\n    uuid = generateUUID();\n    localStorage.setItem(\"uuid\",uuid);\n}\nexport default Terminal;","import React from 'react'\nconst hudStyle={\n  float:'right',\n  marginRight:\"15px\",\n  height:\"20px\",          \n}\nclass HUD extends React.Component{\n    constructor(props){\n        super(props)\n    }\n    \n    render(){\n        return(\n            <span style={hudStyle} className=\"HUD\">\n                Name: {this.props.fname || this.props.username || \"guest\"}, \n                Location: {this.props.cwd ||\"root\"},\n                XP Level:{this.props.xp || 0}, \n                Gold:{this.props.points||0}\n            </span>\n        )\n    }\n}\n\nexport default HUD;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nclass Video extends React.Component {\n  componentDidMount() {\n    this.video.srcObject = this.props.media;\n  }\n\n  shouldComponentUpdate(props) {\n    return this.props.media !== props.media;\n  }\n\n  componentDidUpdate() {\n    this.video.srcObject = this.props.media;\n  }\n\n  render() {\n    const { width, height, muted, children } = this.props;\n\n    return (\n      <video\n        height={height}\n        width={width}\n        muted={muted}\n        autoPlay\n        playsInLine\n        ref={(video) => { this.video = video; }}\n      >\n        {children}\n      </video>\n    );\n  }\n}\n\nVideo.defaultProps = {\n  children: null,\n  height: 420,\n  width: 640,\n  muted: true,\n  media: null,\n};\n\nVideo.propTypes = {\n  children: PropTypes.element,\n  media: PropTypes.shape(\n    {\n      active: PropTypes.bool,\n      ended: PropTypes.bool,\n      id: PropTypes.string,\n    },\n  ),\n  muted: PropTypes.bool,\n};\n\nexport default Video;\n","import React from 'react'\nimport Window from './components/Window'\nimport Video from \"./Video\";\n\nconst lobbyStyle={\n\n}\n\nconst signal_url=\"ws://localhost:9090\";\nvar signal_connection, rtcConn;\n\n\nconst peerRTCConfig = {\n    'RTCIceServers': [{\n          'url': 'stun:stun.l.google.com:19302'\n       },\n       {\n          'url': 'turn:192.158.29.39:3478?transport=udp',\n          'credential': 'JZEOEt2V3Qb0y27GRntt2u2PAYA=',\n          'username': '28224511:1379330808'\n       },\n       {\n          'url': 'turn:192.158.29.39:3478?transport=tcp',\n          'credential': 'JZEOEt2V3Qb0y27GRntt2u2PAYA=',\n          'username': '28224511:1379330808'\n       }\n    ],\n    optional: [{\n       'DtlsSrtpKeyAgreement': true\n    }]\n\n }\n\n \nclass Camera extends React.Component{\n    constructor(props){\n        super(props);\n        this.videoRef = React.createRef();\n    }\n    state={\n        enteredRoom: false,\n        signalConnected:false,\n        videoOn:true,\n        audioOn: true,\n        flashMessage:\"\",\n        error:null,\n        myStream: null,\n        room: this.props.room || \"default\",\n        isHost:null,\n        remoteStreams:[]\n    }\n\n    async componentDidMount(){\n        signal_connection = new WebSocket(signal_url);\n        signal_connection.onopen=(e)=>{\n            this.setState({signalConnected:true});\n        };\n        signal_connection.onmessage=(msg)=>{\n            try{\n                var data = JSON.parse(msg.data);\n                console.log(\"signal on msg \", msg);\n                if (data.type === 'login') {\n                    this.onLoggedInWithSignalServer(data);\n                }\n                else if (data.type === 'offer') {\n                    debugger;\n                    if(data.offer.sdp){\n                        this.onReceivedRemoteConnectionOffer(data);\n\n                    }else{\n                        console.log(\"signal ret offer not contrain sdp\", data);\n                    }\n                }\n                else if (data.type === 'answer') {\n                    this.onReceivedConnectionRequestResponse(data);\n                }\n                else if(data.type==='candidate'){\n                    this.onReceivedICECandidate(data);\n                }else if(data.type==='error'){\n                    debugger;\n                    this.setState({flashMessage:data.message});\n                }\n    \n\n            }catch(e){\n                console.log(\"signal onmsg failed\", e);\n            }\n          \n        }\n       try{\n        var myStream = await navigator.mediaDevices.getDisplayMedia();\n        this.setState({myStream:myStream});\n       }catch(e){\n           this.setState({error:e.message});\n       }\n \n\n    }\n    componentWillUnmount(){\n        this.onClosed();\n    }\n\n    joinRoom=async()=>{\n        this.setState({enteredRoom:true});\n        signal_connection.send(JSON.stringify({ type: 'login', channel: this.state.room, uuid: this.props.userInfo.uuid }));\n    }\n\n    initiateRTCPeerConnection=()=>{\n        rtcConn = new RTCPeerConnection(peerRTCConfig);\n\n        rtcConn.ontrack=(e)=>{\n            if(e.streams && e.streams[0]){\n                const tracklist = this.state.remoteStreams.concat(e.streams[0]);\n                this.setState({remoteStreams:tracklist});\n            }\n        }\n        rtcConn.onicecandidateerror=(e)=>{\n            this.setState({flashMessage:e.message});\n        }\n        rtcConn.onicecandidate = (event)=>{\n            if (event.candidate!=null) {\n                signal_connection.send(JSON.stringify({\n                  type: \"candidate\",\n                  candidate: event.candidate,\n                  channel:this.state.room\n               }))\n            }\n         }\n         return  rtcConn;\n    }\n\n    onLoggedInWithSignalServer=(data)=>{\n        this.setState({signalConnected:true});\n        if(data.usersCount==1){\n            this.setState({flashMessage:\"Joined channel \"+data.channelJoined+\". Only you here.\"});\n            return;\n        }\n        this.initiateRTCPeerConnection();\n\n        rtcConn.onnegotiationneeded = (e)=>{\n            rtcConn.createOffer().then(desc=>{\n                rtcConn.setLocalDescription(desc);\n                signal_connection.send(JSON.stringify({\n                    type: 'offer',\n                    offer: desc,\n                    channel: this.state.room\n                 }));\n            }).catch(e=>{\n                debugger;\n                alert(e.message);\n            })\n           \n        }\n        this.state.myStream.getTracks(track=>{\n            rtcConn.addTrack(track,this.state.myStream);\n        })\n\n        rtcConn.createOffer().then(desc=>{\n            rtcConn.setLocalDescription(desc);\n            signal_connection.send(JSON.stringify({\n                type: 'offer',\n                offer: desc,\n                channel: this.state.room\n             }));\n        }).catch(e=>{\n            alert(e.message);\n        })\n    }\n\n    onReceivedRemoteConnectionOffer=(data)=>{\n         this.initiateRTCPeerConnection();\n        rtcConn.setRemoteDescription(new RTCSessionDescription(data.offer)).then(() => {\n                this.state.myStream.getTracks().forEach(track=>{\n                    rtcConn.addTrack(track,this.state.myStream);\n                })\n            }).then(()=>{\n                return rtcConn.createAnswer();\n            }).then((answer)=>{\n                rtcConn.setLocalDescription(answer);\n                return answer;\n            }).then((answer)=>{\n                signal_connection.send(JSON.stringify({\n                    type: 'answer',\n                    answer: answer,\n                    channel: data.channel,\n                    uuid: data.caller_id\n                }));\n            }).catch(e=>{\n                console.log(e);\n                this.setState({flashMessage:e.message+\" on receive remote errored\"});\n            })\n    }\n\n    onReceivedConnectionRequestResponse=(data)=>{\n        if(data.answer.sdp){\n\n            rtcConn.setRemoteDescription(data.answer).then(function(){\n                return navigator.mediaDevices.getDisplayMedia();\n            }).then((stream)=>{\n                stream.getTracks().forEach(track=>rtcConn.addTrack(track,stream));\n            })    \n         }\n    }\n    onReceivedICECandidate=(data)=>{\n        rtcConn.addIceCandidate(data.candidate).catch(e => {\n            console.log(\"Failure during addIceCandidate(): \" + e.name);\n        });\n    }\n    chatRoomChanged=(e)=>{\n        const value = e.target.value;\n        this.setState({'room':value});\n    }\n    audioCheckBoxChanged=(e)=>{\n        this.setState({'audioOn':e.target.value});\n    }\n    videoCheckBoxChanged=(e)=>{\n        this.setState({'videoOn':e.target.value});\n    }\n\n    gotMyStream=(stream)=>{\n        this.setState({'myStream':stream});\n    }\n    renderLobby=()=>{      \n        return (\n            <div className='cam-lobby'>\n                <p>{this.state.flashMessage}</p>\n                <Video width={300} media={this.state.myStream}></Video>\n                <p>Join Room: <input   id='join_room_name' onChange={this.chatRoomChanged} value={this.state.room} type='text' size='50'></input></p>\n                <p>Audio: <input id='join_room_audio' onChange={this.audioCheckBoxChanged} type='checkbox' checked /></p>\n                <p>Video: <input id='join_room_video'  onChange={this.videoCheckBoxChanged} type='checkbox' checked /></p>\n                <p><button onClick={this.joinRoom}>Go</button> </p>\n            </div>\n        )\n    }\n    renderRoom=()=>{\n        return (<div className='cam-room'>\n            <h3>Room {this.state.room}</h3> \n                <p>{this.state.flashMessage}</p>\n                <Video key=\"mstream\" width={200} height={100}  media={this.state.myStream}></Video>\n                {this.state.remoteStreams.map((remoteStream,i)=>{\n                    console.log(remoteStream);\n                    return ( <Video key={\"remote-stream-\"+i} width={100} height={100} media={remoteStream}></Video>)\n                })}            \n        </div>)\n    }\n    render(){\n        return (<Window className=\"camera\" title={this.props.title} pid={this.props.pid} ipc={this.props.ipc}>\n            {this.state.error!==null ? <div>Error: {this.state.error}</div>: \n                (this.state.signalConnected==false || this.state.myStream ==null) ? <div>Connecting..</div> : \n                   this.state.enteredRoom==false ? this.renderLobby() : this.renderRoom()}\n        </Window>)\n    }\n    onClosed=()=>{\n        //this.state.myStream.stop();\n    }\n\n}\nexport default Camera;","import React from 'react';\nimport Video from '../Video'\nimport Draggable from 'react-draggable'; // The default\n\nclass MediaObject extends React.Component{\n\n    renderVideo=(stream)=>{\n        \n        return (<Video width={\"100%\"} height={\"100%\"} media={stream}></Video>)\n    }\n \n    renderText=(text)=>{\n        return (<div>{text}</div>)\n    }\n    renderImage=(pictureUrl)=>{\n        return (<img src={pictureUrl}></img>);\n    }\n    renderAudio=()=>{\n        return (<div>todo</div>)\n    }\n    render(){\n        const streamType = this.props.mediaObject[0];\n        const stream =  this.props.mediaObject[1];\n        const dimensions = this.props.mediaObject[2];\n        const divStyle={\n            position:\"absolute\",\n            left:   dimensions[0]+\"%\",\n            top:    dimensions[1]+\"%\",\n            width:  dimensions[2]+\"%\",\n            height: dimensions[3]+\"%\"\n        }\n        if(this.props.notDraggable){\n            return(\n                <div style={divStyle}>\n                    {streamType==\"video\"       ?   this.renderVideo(stream) : null}\n                    {streamType==\"screenshare\" ? this.renderVideo(stream) : null}\n                    {streamType==\"webcam\"      ? this.renderVideo(stream) : null}\n                    {streamType==\"audio\"       ? this.renderAudio(stream) : null}\n                    {streamType==\"text\"        ? this.renderText(stream) : null}\n                    {streamType==\"image\"        ? this.renderImage(stream) : null}\n                </div>\n            )\n        }\n        return(\n            <Draggable>          \n                 <div style={divStyle}>\n                    {streamType==\"video\" ? this.renderVideo(stream) : null}\n                    {streamType==\"screenshare\" ? this.renderVideo(stream) : null}\n                    {streamType==\"webcam\"      ? this.renderVideo(stream) : null}\n                    {streamType==\"audio\"       ? this.renderAudio(stream) : null}\n                    {streamType==\"text\"        ? this.renderText(stream) : null}\n                    {streamType==\"image\"        ? this.renderImage(stream) : null}\n                </div>\n            </Draggable>\n\n        )\n    }\n}\n\nexport default MediaObject;","import React from \"react\";\nimport Window from \"../components/Window\";\nimport MediaObject from \"./MediaObject\";\nimport './broadcast.css';\nimport BroadcastClient from \"./BroadcastClient\";\n\n\nconst streamHost = \"https://grepawk.com/watch/\";\nconst defaultDimensions ={\n    screenshare: [0,0,100,100],\n    webcam: [80, 80, 20,20],\n    audio: [90,0,10,10],\n    text:[5,5,80, 10],\n    picture:[0, 10, 20,20]\n}\n\nclass Broadcast extends React.Component {\n  state = {\n    screenshare: false,\n    webcam: false,\n    audio: false,\n    streamElements:{},\n    additionalStreamParts: [],\n    broadcasting: false,\n    broadcastEvents:[],\n  };\n\n  constructor(props){\n      super(props);\n      this.broadcastClient = BroadcastClient({\n          onEvent: this.onBroadcastEvent,\n          console: \"console\"\n      })\n      this.channelName = this.props.args[0];\n  }\n  onBroadcastEvent = (event)=>{\n      let events = this.state.broadcastEvents;\n      events.push(event);\n      this.setState({broadcastEvents:events});\n  }\n\n  updateStreamElements=(type, mediaObject, dimensions)=>{\n    let cstate = this.state.streamElements;\n    cstate[type]=[type, mediaObject, dimensions];\n    if(mediaObject!==null && this.state.broadcasting===true){\n        this.broadcastClient.addStream(mediaObject, dimensions);\n        this.onBroadcastEvent(\"Adding stream \"+type);\n    }\n    this.setState({streamElements:cstate});\n  }\n\n  updateAdditionalStreamElements=(type,mediaObject,dimensions)=>{\n    let parts = this.state.additionalStreamParts;\n    parts.push([type, mediaObject,dimensions]);\n    this.setState({additionalStreamParts:parts});\n    if(mediaObject!==null && this.state.broadcasting===true){\n        this.broadcastClient.addStream(mediaObject, dimensions);\n        this.onBroadcastEvent(\"Adding stream \"+type);\n    }\n  }\n\n  renderObjectives = () =>{\n\n  }\n  renderPreview = () =>{\n      const parts = Object.keys(this.state.streamElements);\n      return (\n            <div>\n            {parts.map(part=>{return (\n                <MediaObject mediaObject={this.state.streamElements[part]}></MediaObject>)})\n             }   \n             {this.state.additionalStreamParts.map(part=>{\n                 return (\n                     <MediaObject mediaObject={part}></MediaObject>\n                 )\n             })}\n            </div>         \n      )\n  }\n\n  controlClicked=async (control)=>{\n      let turnOn = !this.state[control];\n\n      let existingStream = (this.state.streamElements[control] && this.state.streamElements[control][1]) || null; \n      let stream;\n      switch(control){\n          case \"screenshare\":\n                stream = turnOn ? await this.broadcastClient.requestUserStream(control) \n                                    : await this.broadcastClient.removeStream(existingStream);\n                this.updateStreamElements(control, stream, defaultDimensions[control]);\n                this.setState({screenshare: turnOn});\n                break;\n          case \"webcam\":\n                stream = turnOn ? await this.broadcastClient.requestUserStream(control) \n                                    : await this.broadcastClient.removeStream(existingStream);\n                                    \n                this.updateStreamElements(control, stream, defaultDimensions[control]);\n                this.setState({webcam:turnOn});\n                break;\n           case \"audio\":\n                stream = turnOn ? await this.broadcastClient.requestUserStream(control) \n                                    : await this.broadcastClient.removeStream(existingStream);\n                this.updateStreamElements(control, stream, defaultDimensions[control]);\n                this.setState({audio:turnOn});\n                break;\n            case 'text':\n                var text=prompt(\"Enter Text\");\n                this.updateAdditionalStreamElements(\"text\", text, defaultDimensions[control]);\n                break;\n            case 'picture':\n                var pictureUrl=prompt(\"Enter Picture URL\");\n                this.updateAdditionalStreamElements(\"text\", pictureUrl, defaultDimensions[control]);\n                break;\n            default: break;\n      }\n  }\n  renderConsole = () =>{\n      return (\n          <div>\n              {this.state.broadcastEvents.map(event=>{\n                  let msg;\n                  if(typeof event===\"object\"){\n                      msg=JSON.stringify(event);\n                  }else{\n                     msg = event;\n                  }\n                  return (<p>{msg}</p>)\n              })}\n          </div>\n      )\n\n  }\n\n  startBroadcasting = async ()=>{\n      if(!this.channelName){\n        this.channelName=prompt(\"What channel name do you want?\");\n      }\n      if(!this.channelName){\n          return;\n      }\n     var r = window.confirm(\"Start broadcasting at https://www.grepawk.com/watch/\"+this.channelName+\" now?\");\n\n    if(r){\n        this.broadcastClient.startBroadcast(this.channelName);\n        Object.values(this.state.streamElements).forEach((streamElements)=>{\n            if(streamElements[1]!==null){\n                this.broadcastClient.addStream(streamElements[1],streamElements[2]);\n            }\n        })\n        this.setState({broadcasting:true});\n     }\n\n  }\n  stopBroadcasting = ()=>{\n    this.setState({broadcasting:false});\n  }\n\n  renderControls = () => {\n    return (\n        <ul className=\"list-group controls\"> \n            {\n                [\"screenshare\",\"webcam\",\"audio\",\"picture\",\"text\"].map(control=>{\n                    var isOn = this.state[control];\n                    var text = isOn ? control+\" off\" : control;\n                    var btnClass = isOn ? \"btn btn-secondary\" : \"btn btn-primary\";\n                    return(\n                        <li className=\"list-group-item\">\n                            <button className={btnClass} onClick={()=>{this.controlClicked(control)}}>{text}</button>\n                        </li>\n                    )\n                })\n            }\n                            \n        </ul>\n    );\n  };\n\n  renderHeader=()=>{\n      return(\n        <div className='header'>\n                {this.state.broadcasting === false\n                ? <a href='javascript://' onClick={this.startBroadcasting}>Start Broadcast  </a>\n                : <a href='javascript://' onClick={this.stopBroadcasting} >Stop Broadcast</a>}\n           \n        </div>\n      )\n  }\n  render() {\n    return (\n      <Window  width={1000} height={600} left={220}\n        className=\"stream\"\n        title={this.props.title}\n        pid={this.props.pid}\n        ipc={this.props.ipc}\n        draggable={false}\n      >\n        {this.state.flashMessage ? <div>{this.state.flashMessage}</div> : null}\n        <div className=\"obs\">\n            {this.renderHeader()}\n                \n            {this.renderControls()}\n            <div className='preview' ref={this.previewDiv}>\n                {this.renderPreview()}\n            </div>\n            <div className=\"console\">{this.renderConsole()}</div>\n          <div className=\"objectives\">{this.renderObjectives()}</div>\n        </div>\n      </Window>\n    );\n  }\n}\nexport default Broadcast;\n","const signalServerURL = window.location.hostname == 'localhost' ? \"ws://localhost:9091\" : \"wss://grepawk.com/signal\";\nconst peerRTCConfig = {\n    'RTCIceServers': [{url:'stun:stun01.sipphone.com'},\n    {url:'stun:stun.ekiga.net'},\n    {url:'stun:stun.fwdnet.net'},\n    {url:'stun:stun.ideasip.com'},\n    {url:'stun:stun.iptel.org'},\n    {url:'stun:stun.rixtelecom.se'},\n    {url:'stun:stun.schlund.de'},\n    {url:'stun:stun.l.google.com:19302'},\n    {url:'stun:stun1.l.google.com:19302'},\n    {url:'stun:stun2.l.google.com:19302'},\n    {url:'stun:stun3.l.google.com:19302'},\n    {url:'stun:stun4.l.google.com:19302'},\n    {url:'stun:stunserver.org'},\n    {url:'stun:stun.softjoys.com'},\n    {url:'stun:stun.voiparound.com'},\n    {url:'stun:stun.voipbuster.com'},\n    {url:'stun:stun.voipstunt.com'},\n    {url:'stun:stun.voxgratia.org'},\n    {url:'stun:stun.xten.com'},\n    {\n        url: 'turn:numb.viagenie.ca',\n        credential: 'muazkh',\n        username: 'webrtc@live.com'\n    },\n    {\n        url: 'turn:192.158.29.39:3478?transport=udp',\n        credential: 'JZEOEt2V3Qb0y27GRntt2u2PAYA=',\n        username: '28224511:1379330808'\n    },\n    {\n        url: 'turn:192.158.29.39:3478?transport=tcp',\n        credential: 'JZEOEt2V3Qb0y27GRntt2u2PAYA=',\n        username: '28224511:1379330808'\n        }]\n}\n\n\nfunction BroadcastViewerClient(config){\n    const hostname = config.hostname || signalServerURL;\n    let onEvent = config.onEvent || console.log;\n    let mediaObjectReady = config.mediaObjectReady;\n    let mediaObjectOffline = config.mediaObjectOffline;\n    let signalConnection;\n    let clientConnection;\n    let remoteTracks={};\n    let remoteTrackMetaData={};\n    let metadataChannel;\n    let host_uuid;\n    function watchChannel(channelName){\n        signalConnection = new WebSocket(hostname);\n        signalConnection.onopen = function (e) {\n            signalConnection.send(JSON.stringify({\n                type: \"watch_stream\",\n                channel: channelName\n            }))\n\n            signalConnection.onmessage = function (event) {\n                let data = JSON.parse(event.data);\n                onEvent(\"Signal Server msg type \"+data.type);\n                switch (data.type) {\n                    case 'offer':\n                        onEvent(\"got offer: host_uuid=\", data.host_uuid);\n                        gotSDP(data.offer, data.host_uuid);\n                        break;\n                    case 'candidate':\n                        onEvent(\"got candidate\");\n                        clientConnection.addIceCandidate(data.candidate);\n                        break;\n\n                    case 'error':\n                        onEvent(\"Error: \"+data.message);\n                        break;\n                    default:\n                        break;\n                }\n            }\n        }\n    }\n\n    \n    async function gotSDP(offer, hostId) {\n        host_uuid = hostId;\n        clientConnection = new RTCPeerConnection(peerRTCConfig);\n        clientConnection.ondatachannel=function(evt){\n            evt.channel.onopen=()=>onEvent(\"metadata channel on client open\");\n            evt.channel.onmessage=(e)=>{\n                onEvent(\"got metadata \"+e.data);\n                let data = JSON.parse(e.data);\n                if(data.type=='mediaMetadata'){\n                    let mediaDescriptors = data.data;\n                    mediaDescriptors.forEach(trackMetaData=>{\n                      let trackId =   trackMetaData.trackId;\n                      remoteTrackMetaData[trackId]=trackMetaData;\n                    });\n                }\n                showRemoteTracks();\n            }\n        }\n\n        function showRemoteTracks(){\n            onEvent(\"showing remote tracks: \"+Object.keys(remoteTrackMetaData).length);\n            for(let trackId in remoteTrackMetaData){\n                let metadata = remoteTrackMetaData[trackId];\n                if(remoteTracks[trackId]){\n                    let stream = new MediaStream();\n                    stream.addTrack(remoteTracks[trackId]);\n                    mediaObjectReady(trackId, stream,remoteTracks[trackId].kind, metadata.dimensions);\n                    onEvent(\"showing tracking \");\n                }else{\n                    let stream = new MediaStream();\n                    stream.addTrack(remoteTracks[trackId]);\n                    mediaObjectReady(trackId, stream,remoteTracks[trackId].kind, metadata.dimensions);\n                    onEvent(\"showing tracking \");\n\n                    onEvent(\"Got meta data but not track\")\n                }\n\n            }\n        }\n        \n        clientConnection.onicecandidate = (e) => {\n            onEvent(\"client on ice candidate \", e);\n            if (e.candidate) {\n                signalConnection.send(JSON.stringify({\n                    type: \"candidate\",\n                    to_uuid: host_uuid,\n                    candidate: e.candidate\n                }))\n            }\n        }\n\n        clientConnection.ontrack = (e) => {\n            if(e.track){\n                remoteTracks[e.track.id]=e.track;\n            }\n            showRemoteTracks();\n        }\n\n        await clientConnection.setRemoteDescription(new RTCSessionDescription(offer));\n        const answer = await clientConnection.createAnswer();\n        clientConnection.setLocalDescription(answer);\n        signalConnection.send(JSON.stringify({\n            type: \"answer\",\n            to_uuid: host_uuid,\n            answer: answer\n        }))\n    }\n    return {\n        watchChannel: watchChannel\n    }\n}\n\nexport default BroadcastViewerClient;","import React from \"react\";\nimport Window from \"../components/Window\";\nimport MediaObject from \"./MediaObject\";\nimport BroadcastViewerClient from \"./BroadcastViewerClient\";\nimport \"./Watch.css\";\n\nclass Watch extends React.Component {\n    state={\n        broadcastEvents:[],\n        media:{}\n    }\n\n    constructor(props){\n        super(props);\n        this.broadcastViewerClient = BroadcastViewerClient({\n            channelName:        this.props.channelName,\n            onEvent:            this.onBroadcastEvent,\n            mediaObjectReady:   this.mediaObjectReady,\n            mediaObjectOffline: this.mediaObjectReady\n        });\n    }\n\n    mediaObjectReady=(trackId, stream, type, dimensions)=>{\n       let _objs = this.state.media;\n       _objs[trackId] = [type, stream, dimensions];   \n       this.setState({media: _objs});\n    }\n\n    mediaObjectOffline=(trackId)=>{\n        let _objs = this.state.media;\n        delete _objs[trackId];\n        this.setState({media: _objs});\n    }\n\n  onBroadcastEvent = (event)=>{\n      let events = this.state.broadcastEvents;\n      events.push(event);\n      this.setState({broadcastEvents:events});\n  }\n\n  componentDidMount() {\n      this.broadcastViewerClient.watchChannel(this.props.channelName);\n  }\n\n  renderStream = () =>{\n      const parts = Object.keys(this.state.media);\n     console.log(\"Rendering \"+parts.length+\" stream parts\");\n      return (\n            <div className='stream-content'>\n                {\n                   parts.map((part,idx)=>{ \n                        return (<MediaObject key={idx} notDraggable={true} \n                                mediaObject={this.state.media[part]}></MediaObject>)\n                    })\n                }   \n            </div>         \n      )\n  }\n\n\n  renderConsole = () =>{\n      return (\n          <div className='console-watcher'>\n              {this.state.broadcastEvents.map((event,idx)=>{\n                  let msg;\n                  if(typeof event===\"object\"){\n                      msg=JSON.stringify(event);\n                  }else{\n                     msg = event;\n                  }\n                  return (<p key={idx}>{msg}</p>)\n              })}\n          </div>\n      )\n\n  }\n  render() {\n    return (\n      <Window\n        top={20}\n        left={60}\n        width={1200}\n        height={600}\n        className=\"watch-stream\"\n        title={this.props.title}\n        pid={this.props.pid}\n        ipc={this.props.ipc}\n        draggable={false}   \n      >\n      <div key='rr' className='stream-wrapper'>\n        {this.renderStream()}\n        {this.renderConsole()}\n      </div>\n      </Window>\n    );\n  }\n}\nexport default Watch;\n","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport \"./AppIconGrid.css\"\n\nconst icons_per_column = 5;\n\n\nclass AppIconGrid extends React.Component{\n    constructor(props){\n        super(props);\n        this.iconClicked = this.iconClicked.bind(this);\n    }\n\n    iconClicked(idx){\n        var icon = this.props.icons[idx];\n        this.props.ipc(icon.cmd, icon.args);\n    }\n    render(){\n        return(\n            <div className='app-icon-grid'>\n                {this.props.icons.map((icon,index)=>{\n                    const row = index  % icons_per_column;\n                    const col = Math.floor(index / icons_per_column);\n                    const iconStyle ={\n                        gridColumnStart:col,\n                        gridColumnEnd: col+1,\n                        gridRowStart:row,\n                        gridRowEnd:row+1,\n                        width:50,\n                        height:50,\n                        borderColor:\"black\",\n                        borderWidth:2\n                       // backgroundColor:\"#D3D3D3\"\n                    }\n             \n                    return (\n                        <div key={\"icon\"+index} \n                            style={iconStyle} \n                            onClick={()=>{\n                                this.iconClicked(index);\n                            }}\n                        >\n                            <i className={\"fas fa-lg fa-\"+icon.name}></i><br></br>{icon.title}\n                        </div>\n                        )\n                })}\n\n            </div>\n        )\n    }\n\n}\n\n\nexport default AppIconGrid;","import { EROFS } from \"constants\";\n\nconst NODE_API_HOSTNAME =  window.location.hostname === \"localhost\" ? \"http://localhost\" : \"https://grepawk.com\";\nconst NODE_STDOUT =  window.location.hostname === \"localhost\" ? \"ws://localhost:8085\" : \"https://grepawk.com/stdout\";\n\nvar api_fs = function(mntType){\n  var fileMap = {};\n  var mntType = mntType || \"azure\";  \n  const API_LIST_NAME = NODE_API_HOSTNAME+\"/api/files/\"+mntType;\n\n  var sync_api_get_json = function(url){\n    return new Promise((resolve,reject)=>{\n      fetch(url)\n      .then(resp=>resp.json())\n      .then(resolve)\n      .catch(err=>{\n        alert(err.message);\n        reject(err);\n      });\n    })\n  }\n  var sync_api_post_json = function(url,body){\n    return new Promise((resolve,reject)=>{\n      fetch(url,{\n        method: \"POST\",\n        body: body\n      })\n      .then(resp=>resp.json())\n      .then(resolve)\n      .catch(err=>{\n        reject(err);\n      });\n    })\n  }\n  return {\n    file_get_stream: async function(path){\n      return new Promise((resolve,reject)=>{\n        var ws = new WebSocket(NODE_STDOUT+\"/\"+path);\n        ws.onopen=(e)=>{\n          resolve(ws);\n        }\n        ws.onerror=reject;\n      })\n    },\n    get_files: async function(path){\n      let url = API_LIST_NAME+\"/list\";\n      let fileList= await sync_api_get_json(url);\n      fileList[0].forEach(node=>{\n          fileMap[node.fullPath] = node;\n      })\n      return fileList;\n    },\n    file_get_meta: function(fullPath, stdout){\n        if(fileMap[fullPath]){\n            stdout({\n                size: fileMap[fullPath].size || 0,\n                type: fileMap[fullPath].type || \"file\",\n                modificationTime: fileMap[fullPath].updated_at && new Date(fileMap[fullPath].updated_at) || null\n            })\n        }else{\n            stdout(null);\n            throw new Error(\"File not registered\");\n        }\n    },\n    file_get_content: function(path){\n      let url = API_LIST_NAME+\"?path=\"+path;\n      return new Promise((resolve,reject)=>{\n        fetch(url)\n        .then((response)=>{\n          resolve({\n            type: \"text\",\n            payload:response.body()\n          });\n        })\n        .catch(reject);\n      })\n    },\n    upload_files: async function(files, basePath, onMessage){\n        for(let i =0; i<files.length;i++){\n            const _file = files[0];\n            let url = API_LIST_NAME+\"/upload?basepath=\"+basePath;\n            fetch(url,{\n                body: _file,\n                method:\"POST\",\n                headers:{\n                    contentType:_file.type,\n                    'x-file-name': _file.name,\n                    'x-file-size': _file.size\n                }        \n            }).then(async function readResponse(response){\n                let update= await response.text();\n                console.log(update);\n                if(onMessage) onMessage(update);\n            }).catch((e)=>{\n                alert(e.message);\n            });\n        }\n    }\n  }\n}\n\nexport default api_fs;","const IMG_EXTS    = /\\.(gif|jpg|jpeg|tiff|png)$/i;\nconst VIDEO_EXTS  = /\\.(mov|mp4|m4a|ogg)$/i;\nconst NODE_API_HOSTNAME =  window.location.hostname === \"localhost\" ? \"http://localhost\" : \"https://grepawk.com\";\n\nvar chrome_fs = function(){\n\n    window.requestFileSystem  = window.requestFileSystem || window.webkitRequestFileSystem;\n    window.directoryEntry = window.directoryEntry || window.webkitDirectoryEntry;\n    var localFS;\n    function g_init_local_fs(){\n      return new Promise((resolve,reject)=>{\n        window.requestFileSystem(window.PERSISTENT, 5*1024*1024, function(_localFS){\n          localFS= _localFS.root;\n          resolve(localFS);\n        })\n      })\n    }\n  \n    function g_file_get_content(path){\n      return new Promise(async (resolve,reject)=>{\n        if(!localFS) localFS = await g_init_local_fs();\n        localFS.getFile(path, {create:false,exclusive:false}, function(entry){\n          entry.file(function(file){\n            var _file=file;\n            var reader = new FileReader();\n            var readType = 'text';\n            reader.onloadend=function(e){\n              resolve({type:readType, payload:this.result,file:_file});\n            }\n            reader.onerror=function(e){\n              reject(new Error(\"reader failed\"));\n            }\n            if(IMG_EXTS.test(file.name)){\n              readType='image';\n              reader.readAsDataURL(file);\n            }else{\n              reader.readAsText(file);\n            }\n          })\n        }, function(e){\n          reject(e);\n        })\n      });\n    }\n  \n    function g_file_put_contents(path,content,append=true){\n      return new Promise(async (resolve,reject)=>{\n        if(!localFS) localFS = await g_init_local_fs();\n        localFS.getFile(path, {create: true, exclusive: true}, (fileEntry)=>{\n          if(content){\n            fileEntry.createWriter(function(writer){\n              if(append){\n                writer.seek(writer.length);\n              }\n              var blob = new Blob([content], {type: 'text/plain'});\n              writer.write(blob);\n              resolve(fileEntry);\n            })\n          }else{\n            resolve(fileEntry);\n          }\n        }, reject);\n      })\n    }  \n  \n    function getDirEntriesSync(path){\n      return new Promise(async (resolve,reject)=>{\n        let fsroot = await g_init_local_fs();\n        fsroot.getDirectory(path, {create:false}, function(directory){\n          directory.createReader().readEntries(function(entries){\n            resolve(entries);\n          });\n        },reject);\n      });\n    }\n    function g_list_local_files(path){    \n      return new Promise(async (resolve, reject)=>{\n        let root_node = {\n          name: path,\n          fullPath:'',\n          id: 0\n        }\n        let queue = [];\n        let nodes = [];\n        let edges = [];\n        queue.push(root_node);\n        nodes.push(root_node);\n        edges[0]=[];\n        let parent;\n        while(queue.length>0){\n          parent = queue.pop();\n          parent.id = parent.id || 0;\n          let entries = await getDirEntriesSync(parent.name);\n          entries.forEach(async (entry)=>{\n            entry.id = nodes.length;\n            nodes.push(entry);\n            edges[parent.id] = edges[parent.id] || [];\n            edges[parent.id].push(entry.id);\n            if(entry.isDirectory){\n              queue.push(entry);\n            }\n          })\n        }\n        resolve([nodes, edges]);\n      });\n    }\n  \n    function handleError(e){\n      alert(e.message);\n    }\n  \n    function g_upload_file_sync(fsroot, file){\n      return new Promise((resolve,reject)=>{\n        fsroot.getFile(file.fullPath,{create:true, exclusive:false},\n          (fentry)=>{\n          fentry.createWriter(function(writer){\n            writer.write(file);\n            resolve();\n          }, handleError)\n        },handleError);\n      })\n    }\n    function g_upload_files(files){\n      return new Promise(async (resolve, reject)=>{\n        let fsroot = await g_init_local_fs();\n        for(let i = 0; i<files.length; i++){\n          await  g_upload_file_sync(fsroot, files[i]);\n        }\n        resolve();\n      });\n    }\n  \n    return{\n  \n      get_files: async function(path){\n        try{\n          var ret= await g_list_local_files(path);\n          return ret;\n        }catch(err){  \n          return null;\n        }\n      },\n      file_get_meta: function(fullPath, stdout){\n        try{\n           g_init_local_fs().then((fsroot)=>{\n             fsroot.getFile(fullPath, {}, function(fileEntry){\n               fileEntry.getMetadata((meta)=>{\n                  stdout({\n                    size: meta.size || 0,\n                    modificationTime: meta.modificationTime\n                  });\n               },function(err){\n                stdout(\"error: \"+ err.message);\n              })\n             })\n           })\n        }catch(err){  \n         // alert(err.message);\n          stdout(\"error \"+err.message);\n        }\n      },\n      file_put_content: async function(filename, content){\n        try{\n          return await g_file_put_contents(filename, content,true);\n        }catch(err){  \n          alert(err.message);\n        }\n      },\n      upload_files: async function(files){\n        try{\n          await g_upload_files(files);\n        }catch(e){\n          throw e;\n        }\n      },\n      file_get_content: async function(path){\n        try{\n          var content = await g_file_get_content(path);\n          return content;\n        }catch(e){\n          throw e;\n        }\n      }\n    }\n  }\nexport default chrome_fs;  ","import api_fs from \"./APIFileSystem\";\nimport chrome_fs from \"./ChromeFileSystem\";\nconst NODE_API_HOSTNAME =  window.location.hostname === \"localhost\" ? \"http://localhost\" : \"https://grepawk.com\";\nconst GREPAWK_STDIN =  window.location.hostname === \"localhost\" ? \"WS://localhost:8086\" : \"https://grepawk.com/stdin\";\n\nvar Vfs = function(type){\n  if(type=='chrome')      return chrome_fs();\n  else if(type=='azure')  return api_fs(\"azure\");\n  else if(type=='market') return api_fs(\"market\");\n}\n\nVfs.upload_file_market= async function(file){\n  return new Promise((resolve,reject)=>{\n    let socket = new WebSocket(GREPAWK_STDIN);\n    socket.onopen=(e)=>{\n      socket.send(\"#pathname: azure/market/\"+file.name);\n      socket.send(\"#size: \"+file.size);\n      socket.send(\"#contentType \"+file.type);\n      var reader = new FileReader();\n      reader.onloadend=(e)=>{\n        socket.send(this.result);\n        socket.send(\"EOF\");\n      }\n      reader.readAsArrayBuffer(file);\n      socket.onmessage=(e)=>{\n        var msg = e.data;\n        if(msg.toString().startsWith(\"URL: \")){\n          socket.close();\n          resolve(msg.replace(\"URL: \",\"\"));\n        }\n        else if(msg.toString().startsWith(\"ERROR: \")){\n          socket.close();\n          reject(new Error(msg.replace(\"ERROR: \",\"\")));\n        }\n      }\n    }\n  \n  })\n};\n\n\nVfs.api_post_json=function(uri, data){\n  return new Promise((resolve,reject)=>{\n    var url = NODE_API_HOSTNAME+\"/api\"+uri;\n    fetch(url,{\n      method:\"POST\",\n      headers:{\n        'Content-Type':\"application/json\"\n      },\n      cache:\"no-cache\",\n      body: JSON.stringify(data)\n    }).then(resp=>resp.json()).then(resolve).catch(reject);\n  })\n}\n\nexport default Vfs;\n\n\n// var v = Vfs();\n// v.get_files(\"/chrome\");\n","import React from 'react';\n\nimport Moment from 'react-moment';\n\nclass GFileListItem extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state={\n            fileMetaDescriptor: {},\n        }\n        this.fetchingMeta = false;\n    }\n\n    componentDidMount=()=>{\n        if(this.props.vfs && this.fetchingMeta===false){\n            this.fetchingMeta = true;\n            var that = this;\n            this.props.vfs.file_get_meta(this.props.file.fullPath, function(meta){\n                if(meta!==null && meta!== that.state.fileMetaDescriptor){\n                    that.setState({fileMetaDescriptor: meta});\n                }\n                that.fetchingMeta = false;\n            });\n        }\n    }\n\n    render(){\n        const rowIndex = this.props.rowIndex;\n        const file = this.props.file;\n        const sizeStr = this.state.fileMetaDescriptor.size || \"0\";\n        const typeStr = this.state.fileMetaDescriptor.type || file.isDirectory ? \"dir\" : \"file\";\n        var rowStyle = {\n            paddingLeft:\"5px\",\n            color: \"#D7D7D7\",\n            backgroundColor: rowIndex % 2 ===0 ? \"#2A2A2A\" : \"#242424\",\n            height:\"50px\",\n            position:\"relative\"\n        }\n        var spanOne={\n            position:\"absolute\",\n            top: 2,\n            left: 2,\n            width: 20,\n            height: 48\n        }\n        var spanTwo={\n            position:\"absolute\",\n            top: 2,\n            left: 25,\n            width: 100,\n            height: 48\n        }\n        var spanThree={\n            position:\"absolute\",\n            top: 2,\n            left: 170,\n            width: 200,\n            height: 48\n        }\n        var spanFour={\n            position:\"absolute\",\n            top: 2,\n            right: 5,\n            width: 100,\n            height: 48\n        }\n\n\n        const faName = file.isDirectory === true ? \"fa-folder\" : \"fa-file\";\n        return (\n            <div style={rowStyle} onClick={()=>{\n                if(!file.isDirectory){\n                    this.props.clickedFile(file)\n                }else{\n                    this.props.clickedDir(file);\n                }\n              }}>\n                  <div>\n                    <span style={spanOne}>\n                        <i className={\"fas fa-lg \"+faName}> </i>  \n                   </span>\n                   <span style={spanTwo}>{file.name}</span>\n                    {/* <span style={spanThree}>{sizeStr}</span> */}\n                    <span style={spanFour}>\n                        {this.state.fileMetaDescriptor.modificationTime ? \n                            <Moment\n                                format=\"YYYY/MM/DD\" \n                                date={this.state.fileMetaDescriptor.modificationTime}\n                            />\n                            :null}\n                    </span>\n                </div>\n                <div>\n                    \n                </div>\n           </div>\n\n        )\n    }\n}\nexport default GFileListItem;","import React from \"react\";\n\nclass Modal extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            answers: this.props.initialAnswers || {}\n        }\n    }\n    componentDidMount(){\n        if(this.props.initialAnswers && this.props.questions){\n            var setState={};\n            this.props.questions.forEach((question,i)=>{\n                setState[question] = this.props.initialAnswers[i];\n            })\n            this.setState(setState);\n        }\n    }\n\n    render(){\n        const modalStyle = this.props.style || {\n            display:  'block',\n            position: 'fixed',\n            width: '50vw',\n            height: '80vh',\n            top: '5vh',\n            left: '25vw'\n        }\n        return (\n            <div style={modalStyle} className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\">{this.props.title}</h5>\n                <button type=\"button\" className=\"close\" onClick={this.props.onClose} aria-label=\"Close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div className=\"modal-body\">\n                <p>{this.props.children || this.renderBody()}</p>\n              </div>\n              <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={this.props.onClose}>Cancel</button>\n                <button type=\"button\" className=\"btn btn-primary\" onClick={this.props.onSave || this.clickedSave}>Publish</button>\n              </div>\n            </div>\n        )\n    }\n    clickedSave=()=>{\n        this.props.onSubmit(this.state.answers);\n       \n    }\n    renderBody=()=>{\n        const stateAnwsers = this.state.answers;\n        return (\n        <div>\n        {\n            this.props.questions.map((question,idx)=>{\n                let val = stateAnwsers[question] || \"\";\n                return (\n                    <div className='form-group form-row'>\n                        <label className=\"col-md-6\" for={\"`input-${idx}`\"}>{question}</label>\n                        <input \n                            className=\"col-md-6\" \n                            value={val} \n                            onChange={(e)=>{\n                                const name = e.target.name;\n                                const value = e.target.value;\n                                stateAnwsers[name]=value;\n                                this.setState({answers: stateAnwsers})\n                            }}\n                            type='text' \n                            name={question} \n                            ref={'question '+idx}></input>\n                    </div>\n                )\n            })\n        }\n        </div>)\n\n    }\n\n}\n\nexport default Modal;","import React from 'react';\nclass SearchBar extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            inputHistory:           [],\n            inputHistoryCursor:     0,\n            isTyping:               false,\n            isFetchingSuggestion:   false,\n            autoSuggestions:        [],\n            autoSuggestionCursor:   0\n        }\n        this.keyboardInput = React.createRef();\n        this.focusTextInput = this.focusTextInput.bind(this);\n        this.verbSuggestions = props.verbSuggestions && this.props.verbSuggestions.map(verb=>{\n            return {\n                cmd: verb, \n                description: verb\n            }\n        })  || [\n            {\n                cmd: 'search',\n                description: 'disocver files and file content'\n            },\n            {\n                cmd: 'compose',\n                description: 'create content'\n            },\n            {\n                cmd: 'request',\n                description: 'request document, script, or live consulting'\n            },\n            {\n                cmd: 'neighbors',\n                description: 'visit a neighbor and discover their content'\n            },\n            {\n                cmd: 'radio',\n                description: 'listen to radio'\n            },\n            {\n                cmd: 'share',\n                description: 'share security peer-to-peer'\n            },\n            {\n                cmd: 'broadcast',\n                description: 'live stream'\n            },\n            {\n                cmd: 'connect',\n                description: 'with people or IP addresses'\n            }\n        ]\n    }\n\n    focusTextInput() {\n        this.keyboardInput.current.focus();\n    }\n\n    componentDidMount(){\n        if(this.props.autoFocus){\n            this.focusTextInput();\n        }\n        this.updateAutoSuggest();\n    }\n\n    stdin=(msg)=>{\n        alert(msg);\n    }\n\n    renderSuggestions=()=>{\n        if(this.state.isTyping===false) return null;\n\n        return(\n            <ul className='list-group suggestions'>\n                {\n                    this.state.autoSuggestions.map((suggestion,idx)=>{\n                        const className = idx === this.state.autoSuggestionCursor ?\n                                \"list-group-item active\" : \"list-group-item\";\n                        return (\n                            <li \n                                className={className} \n                                onMouseEnter={(e)=>{\n                                    this.setState({autoSuggestionCursor:idx});\n                                }}\n                                onClick={(e)=>{\n                                    this.keyboardInput.current.value = suggestion.cmd+\" \";\n                                    this.focusTextInput();\n                                }}\n                            >\n                                <b>{suggestion.cmd}</b>: {suggestion.description}\n                            </li>\n                            \n                        )\n                    })\n                }\n            </ul>\n        )\n    }\n\n    updateAutoSuggest=(inputString)=>{\n        var typingFirstWord = !inputString || inputString.split(\" \").length<2;\n        var typingSecondWord = !typingFirstWord && inputString.split(\" \").length<2;\n        var currentWord = inputString && inputString.split(\" \").pop() || \"\";\n\n        if(typingFirstWord){\n            var matches = this.verbSuggestions.filter(suggestion=>{\n              return !currentWord || suggestion.cmd.includes(currentWord);\n            });\n            \n            this.setState({autoSuggestions: matches});\n        }\n    };\n\n    render(){\n        const searchBarStyle= this.props.searchBarStyle || \n        {\n            position: 'fixed',\n            right: 150,\n            top: 160,\n            zIndex:-10\n        }\n\n        const searchBarStyleTyping= this.props.searchBarStyleTyping || \n        {\n            position: 'fixed',\n            right: 150,\n            top: 40,\n            zIndex:\"1 !important\"\n        }\n\n        return (\n            <div className='md-col-6' \n                style={ this.state.isTyping === false ? searchBarStyle : searchBarStyleTyping}\n            >\n                <input \n                    ref={this.keyboardInput}\n                    onClick={this.focusTextInput}\n                    onFocus={()=>{\n                        this.setState({isTyping:true});\n                    }} \n                    onBlur={()=>{\n                       // this.setState({isTyping:false});\n                    }}\n                    onKeyDown={(e)=>{\n                        if(e.keyCode==13){ //enter\n                            this.stdin(e.target.value);\n                            e.target.value=\"\";\n                        }else if(e.keyCode==9){ //tab\n                            this.setState({autoSuggestionCursor: this.state.autoSuggestionCursor+1});\n                            // if(this.state.autoSuggestions[this.state.autoSuggestionCursor] &&\n                            //     this.state.autoSuggestions[this.state.autoSuggestionCursor].cmd){\n                            //     e.target.value=this.state.autoSuggestions[this.state.autoSuggestionCursor].cmd+\" \";\n                            // }\n                        }else if(e.keyCode==32){ //space bar\n                            this.updateAutoSuggest(e.target.value);                          \n                        }else if(e.keyCode===27){ //escape\n                            this.setState({\n                                isTyping:false\n                            })\n                        }else{\n                            this.updateAutoSuggest(e.target.value);\n                        }\n                    }}\n                    placeHolder={this.state.isTyping ? 'type query' : 'are you feeling lucky?'}\n                    className='form-control' \n                    type='text' \n                    size={this.props.size || 80} \n                />\n\n                {this.renderSuggestions()}\n            </div>\n        )\n    }\n\n}\nexport default SearchBar;","import React from 'react';\nimport Modal from '../components/Modal';\nimport AceEditor from 'react-ace';\nimport Window from '../components/Window';\nimport SearchBar from \"../SearchBar\";\n\nconst editorStyle={\n    width:\"800px\",\n    height:\"80%\",\n    top: \"5vh\",\n    left:\"10vw\",\n    backgroundColor:\"white\",\n    color:\"black\",\n    position: \"fixed\",\n    display:\"block\"    \n}\nclass Composer extends React.Component{\n    constructor(props){\n        super(props);\n        this.editor = React.createRef();\n        //this.focusEditor = ()=>this.editor.props.onFocus();\n\n    }\n    componentDidMount(){\n       // this.focusEditor();\n    }\n    onSave=()=>{\n        alert(this.props.value);\n        if(this.props.vfs){\n            let result = this.props.vfs.file_put_content(this.props.path, this.props.value);\n            alert(result);\n        }\n    }\n    render(){\n        return(\n            <Window width={1000} height={600} left={220} \n            ipc={this.props.ipc} \n            icon='computer' title='Compose Stream/Video'>\n                <SearchBar \n                    autoFocus={false}\n                    verbSuggestions={['radio', 'scan', 'gif', 'clip', 'mime', 'ppt']}\n                    additionalSuggestionGraph={\"http://localhost/api/autocomplete\"}\n                    searchBarStyle={{\n                                position: 'absolute',\n                                left: \"10%\",\n                                width:\"80%\",\n                                top:\"15%\"\n\n                            }}\n                    placeholderText={\"Compose tracks\"}\n                    searchBarStyleTyping={{\n                        position: 'absolute',\n                        left: \"10%\",\n                        width:\"80%\",\n                        top:\"15%\"\n                    }}                \n                ></SearchBar>\n            </Window> \n        )\n    }\n}\nexport default Composer;","import React, { useState } from 'react';\nimport Window from '../components/Window';\nimport Vfs from './VFS';\nimport GFileListItem from './GFileListItem';\nimport \"./Finder.css\";\nimport Modal from \"../components/Modal\";\nimport Composer from \"./Composer\";\n\nclass Finder extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            info:           \"finder\",\n            dirs:           props.dirs    || [], \n            current_node_id: props.current_node_id || 0, \n            fs_type:        props.fs_type || \"chrome\",\n            files:          props.files   || [], \n            edges:          props.edges   || [],\n            updateMessage:       \"\", \n            previewURL:         null,\n            previewText:        null,\n            previewFile:        null,\n            previewContentType: \"\",\n            fileBeingPublished: null,\n            isUploadingFiles:   false,\n            isPublishing:       false, \n            isComposing:        false,\n            composingContent:   null\n        }\n        this.vfs = Vfs(props.fs_type);\n        this.composer = React.createRef();\n    }\n\n\n    componentDidMount=async ()=>{\n        this.getFiles();\n    }\n\n    getFiles = async ()=>{\n        let files, edges;\n        [files, edges] = await this.vfs.get_files() || [[],[]];\n        this.setState({files: files, edges: edges});\n    }\n\n    get_full_path = (basename)=>{\n        return this.state.dirs.map(d=>d.name).concat(basename).join(\"/\");\n    }\n    add_file=async ()=>{\n        var filename = prompt(\"Enter file name\");\n        this.setState({\n            isComposing: true,\n            composingTitle: this.get_full_path(filename),\n            composingContent: this.state.composingContent || \"\"\n        })\n        \n        // let full_path  = this.get_full_path(filename);\n        // await this.vfs.file_put_content(full_path, content, true);\n        // this.getFiles();\n    }\n\n    upload_to_vfs =async (event)=>{\n        try{\n            var _files = event.target.files || [];\n            if(_files.length<1) return;\n            var uploads=[];\n            for(let i =0; i<_files.length; i++){\n                var item = _files.item(i);\n                item.fullPath = this.get_full_path(item.name);\n                uploads.push(item);\n            }\n            await this.vfs.upload_files(uploads,this.getFullBasePath(), (update)=>{\n                this.setState({updateMessage:update});\n            });\n            this.getFiles();\n        }catch(e){\n            alert(e.message);\n        }\n    }\n    prompt_array = (questions)=>{\n        var anwsers=[];\n        questions.forEach((q,idx)=>{\n            anwsers.push(prompt(\"question: \"+q));            \n        })\n        return anwsers;\n    }\n    renderPreview = ()=>{\n        const previewStyle={\n            position:\"absolute\",\n            left: \"55%\",\n            top: \"5%\",\n            height: \"95%\",\n            width: \"40%\",\n            backgroundColor:\"transparent\"\n        }\n        const file = this.state.previewFile;\n        if(!file) return null;\n        return (\n            <div style={previewStyle}>\n                {this.state.updateMessage ? (\n                <div className='row'>\n                    <div className='col-md-12' style={{height:30, overflow:'scroll'}}>\n                        {this.state.updateMessage}\n                    </div>\n                </div>) : null}\n                <div className='row'>\n                    {this.state.previewFile.fullPath}\n                </div>\n                <div className='row'>                \n                    <div className='md-col-10 ht-70 bg-light'> \n                        {this.renderPreviewContent()}\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className='md-col-10'>\n                        <p>Size: {file.size}</p>\n                        <p>Type: {file.type}</p>\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className='md-col-3'>\n                         <button class='btn btn-primary' onClick={(e)=>{\n                            this.setState({isPublishing:true, fileBeingPublished:file});\n                        }}> Publish </button>\n                    </div>\n                    <div className='md-col-3'>\n                      <button class='btn btn-primary'>Share</button>\n\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderPreviewContent = () =>{\n        if(this.state.previewURL!==null){\n            if(this.state.previewContentType.includes(\"image\")){\n                return(<img style={{objectFit:\"fill\"}} \n                    width={320} height={400} src={this.state.previewURL}></img>);\n            }else{\n                return(<iframe width={320} height={400} src={this.state.previewURL}></iframe>)\n            }\n        }else if(this.state.previewText!==null){\n            return (<div height=\"50%\" width=\"100%\">{this.state.previewText}</div>);\n        }\n\n    }\n    renderFileInfo = (file) =>{\n        if(!file) return  (\"\");\n        return (\n            <table>\n                <tr>\n                    <td colspan={4}>\n                        <p>Size: {file.size}</p>\n                        <p>Type: {file.type}</p>\n                    </td>\n                </tr>               \n            </table>\n        )\n    }\n\n    clickedFile=async (file)=>{\n       \n        if(this.props.fs_type==='azure' ||this.props.fs_type==='market'){\n            try{\n                var contentType = '';\n                var fh = await this.vfs.file_get_stream(file.fullPath);\n                var buffers = [];\n                fh.onmessage = (e)=>{\n                    if (e.data && e.data.toString().startsWith(\"Content-Type: \")) {\n                        contentType = e.data.toString().replace(\"Content-Type: \",\"\");\n                    }\n                    else if (e.data && contentType) {\n                        buffers = buffers.concat(e.data);\n                        let url =  URL.createObjectURL(new Blob(buffers),{ type: contentType });\n                        this.setState({\n                            previewFile:file, \n                            previewURL:url, \n                            previewContentType: contentType\n                        });\n                    }\n                }\n\n            }catch(e){\n                alert(e.lineNumber+\":\"+e.message);\n            }\n            return;\n        }\n        try{\n            var preview_content = await this.vfs.file_get_content(file.fullPath);      \n            preview_content.type =  preview_content.type || \"text\";            \n            if(preview_content.type==='text'){\n                this.setState({\n                    previewURL: null,\n                    previewText:preview_content.payload, \n                    previewFile:preview_content.file})\n            }else if(preview_content.type==='image'){\n                 this.setState({\n                     previewText: null, \n                     previewURL:preview_content.payload,  \n                     previewFile:preview_content.file\n                    });\n            }\n        }catch(e){\n            alert(e.lineNumber+\":\"+e.message);\n        }\n\n    }\n\n    clickedDir = async(dir)=>{\n       let new_dirs =this.state.dirs.concat(dir);\n       this.setState({dirs:new_dirs, current_node_id:dir.id});\n    }\n    backDir = (dirId) =>{\n        if(dirId===0){\n            this.setState({\n                dirs:[], \n                current_node_id:0\n            });\n            return;\n        }\n\n        let new_dirs = [];\n        let i;\n        for(i in  this.state.dirs){\n            new_dirs.push(this.state.dirs[i]);\n            if(dirId == this.state.dirs[i].id){\n                break;\n            }\n        }\n        this.setState({\n            dirs:new_dirs, \n            current_node_id:dirId\n        });\n    }\n    getFullBasePath=()=>{\n        return this.state.fs_type+\"/\"+this.state.dirs.map(d=>d.name).join(\"/\");\n    }\n    renderBreadCrumb=()=>{\n        const headerStyle={\n            position:\"absolute\",\n            top:0,\n            left:0,\n            height:\"20px\",\n            width:\"100%\",\n        }\n        return(\n            <span style={headerStyle}>\n            <a onClick={()=>{\n               this.backDir(0)\n               return false;\n            }}>{this.state.fs_type+\" >\"}</a>\n\n            {this.state.dirs.map(dir=>{\n               return (<a onClick={()=>{\n                   this.backDir(dir.id)\n                   return false;\n               }}>{dir.name+\" >\"}</a>)\n            })}\n            </span>\n        )\n    }\n    renderBody2 = ()=>{\n       let files_displayed=[];\n       const _files = this.state.files || [];\n\n\n       if(this.state.edges==='flat'){\n          files_displayed = _files;\n       }else{\n            const _edges = this.state.edges[this.state.current_node_id] || [];\n            _edges.forEach((node_id)=>{\n                files_displayed.push(_files[node_id])\n           })\n       }\n\n        const bodyStyle={\n            position:\"absolute\",\n            top: \"20px\",\n            height: \"calc(100% - 60px)\",\n            left: 0,\n            color:\"#D7D7D7\",\n            width:\"47%\",\n            overflow:\"scroll\",\n            paddingLeft:\"2%\",\n            backgroundColor:\"#2A2A2A\"\n        }\n        const ctrlStyle={\n            position:\"absolute\",\n            bottom: \"0px\",\n            height: \"40px\",\n            width: \"95%\",\n            left: 0,\n            float: \"right\",\n            padding: 5\n\n        } \n        return (\n            <div>\n                <div className='file_list' style={bodyStyle}>\n                    {files_displayed.length===0 ? (<div>NO Files</div>) \n                    : files_displayed.map((file,i) =>{\n                      return (\n                        <GFileListItem \n                            vfs = {this.vfs}\n                            rowIndex={i}\n                            file={file} \n                            clickedDir={this.clickedDir}\n                            clickedFile={this.clickedFile}\n                        />\n                    )\n                  })}\n                </div>\n                <div className='Controls' style={ctrlStyle}>\n                    <button className='btn primary' onClick={this.add_file}>Compose</button>\n                    {'\\u00A0'}{'\\u00A0'}\n                    {this.state.isUploadingFiles == true ? (\n                         <input type='file' multiple \n                         className='btn primary'\n                          onChange={this.upload_to_vfs} />\n                    ) : (<button className='btn' onClick={()=>{\n                        this.setState({isUploadingFiles:true});\n                    }}>Upload</button>)}\n                </div>\n             </div>\n        )\n    }\n    publishFile=async (responses)=>{\n        let xpath = await Vfs.upload_file_market(this.state.fileBeingPublished);\n        Vfs.api_post_json(\"/listing\",{\n            uuid: this.props.userInfo.uuid,\n            title: responses.title,\n            price: responses.price,\n            url:    xpath, \n            tags: responses.tags.split(\",\")\n        }).then(resp=>{\n            if(resp.status==='OK'){\n                alert(\"Posting Successful\");\n            }\n            this.setState({isPublishing:false});\n        }).catch(err=>{\n           alert(err.message);\n           this.setState({isPublishing:false});\n        })\n    }\n    render() {\n      return (\n      <Window width={1000} height={600} left={220} ipc={this.props.ipc} icon='computer' title='My Computer'>\n          <div className=\"anchor\">\n              {this.renderBreadCrumb()}\n              {this.renderBody2()}\n              {this.renderPreview()}\n          </div>\n          {this.state.isPublishing ? \n            (<Modal \n                onSubmit={this.publishFile}\n                onClose={()=>{this.setState({isPublishing:false})}}\n                questions={['title', 'price', 'tags']}\n                initialAnswers={{\n                    'title': this.state.fileBeingPublished.name,\n                    'price': 10, \n                    'tags': \"newFile\"\n                }}\n                questionTypes = {['string', 'numeric', 'array']}\n                title='Publish Content' />) \n          : null}\n\n          {this.state.isComposing !== false \n            ? (\n            <Composer\n                vfs={this.vfs}\n                mode={\"javascript\"}\n                path={this.getFullBasePath()+\"/\"+this.state.composingTitle}\n                value={this.state.composingContent || \"\"}\n                onChange={content=>this.setState({composingContent: content})}\n                name={this.state.composingTitle}\n                onClose={()=>{this.setState({isComposing:false})}}\n            ></Composer>) \n            : null}\n\n      </Window>)\n    }\n}\nexport default Finder;\n","const NODE_API_HOSTNAME =  window.location.hostname === \"localhost\" ? \"http://localhost\" : \"https://grepawk.com\";\n\nvar API={\n}\n\n\nAPI.api_post_json=function(uri, data){\n    return new Promise((resolve,reject)=>{\n      var url = NODE_API_HOSTNAME+\"/api\"+uri;\n      fetch(url,{\n        method:\"POST\",\n        headers:{\n          'Content-Type':\"application/json\"\n        },\n        cache:\"no-cache\",\n        body: JSON.stringify(data)\n      }).then(resp=>resp.json()).then(resolve).catch(reject);\n    })\n  }\n  \nAPI.api_get_json=function(uri){\n    return new Promise((resolve,reject)=>{\n      var url = NODE_API_HOSTNAME+\"/api\"+uri;\n      fetch(url,{\n        method:\"GET\"      \n     }).then(resp=>resp.json()).then(resolve).catch(reject);\n    })\n  }\n\nAPI.generateUUID = function () { // Public Domain/MIT\n    var d = new Date().getTime();\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function'){\n        d += performance.now(); //use high-precision timer if available\n    }\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n}\nAPI.getUUID = function(){\n    var uuid = localStorage.getItem(\"uuid\") \n    if(uuid && uuid!=='undefined') return uuid;\n    uuid = API.generateUUID();\n    localStorage.setItem(\"uuid\",uuid);\n}\n export default API;","import React from 'react'\nimport './App.css'\nimport Terminal from './Terminal'\nimport HUD from \"./HUD\";\nimport ListView from \"./components/ListView\"\nimport Camera from \"./Camera\"\nimport Broadcast from \"./Broadcast/Broadcast\"\nimport Watch from \"./Broadcast/Watch\"\nimport UIWebView from \"./components/UIWebView\"\n\nimport AppIconGrid from './AppIconGrid';\nimport Finder from \"./FileExplorer/Finder\";\nimport SearchBar from \"./SearchBar\"\nimport API from \"./APICalls\";\nimport Composer from \"./FileExplorer/Composer\"\n\n\nclass Desktop extends React.Component{\n    state={\n        processes: [],\n        // processes:[{name:\"tty\", state:\"on\"}],\n        userInfo:{name:\"guest\",xp:0,gold:0},\n        quests:[],\n        icons:[\n            // {name:\"folder\",     title:\"Local Files\",     cmd:\"finder\", args:[\"chrome\"]},\n            {name:\"folder\",     title:\"Public Files\",     cmd:\"finder\", args:[\"azure\"]},\n            // {name:\"folder\",     title:\"Content Market\",    cmd:\"finder\", args:[\"market\"]},\n            // {name:\"folder\",     title:\"Dropbox Files\",    cmd:\"finder\", args:[\"dropbox\"]},\n            // {name:\"folder\",     title:\"Facebook Files\",    cmd:\"finder\", args:[\"fb\"]},\n            {name:\"terminal\",   title:\"terminal\",cmd:\"tty\", args:[]},\n            {name:\"broadcast-tower\", title:\"Broadcast\", cmd:\"stream\",   args:[]},\n            // {name:\"play-circle\", title:\"Watch Hearthstone\", cmd:\"watch\", args:[\"r5rogue\"]},\n            {name:\"shipping-fast\",title:\"Write Javascript\", cmd:\"compose\", args:['javascript']}\n          ]\n    }\n    constructor(props){\n        super(props);\n        this.ipc = this.ipc.bind(this);\n    }\n\n    componentDidMount(){\n        if(window.location.pathname!=='/'){\n            var xpath = window.location.pathname.split(\"/\").splice(1);\n            if(xpath.length===1){\n                this.ipc(\"watch\", xpath);\n            }else if(xpath.length==2){\n                this.ipc(xpath[0], xpath.splice(1));\n            }   \n        }\n        else if(window.location.search){\n            var t = window.location.search.replace(\"?\",\"\").split(\"/\");\n            const cmd = t[0];\n            const args = t.splice(1);\n            this.ipc(cmd, args);\n        }else{\n            this.ipc(\"tty\",[]);\n        }\n        const uuid = API.getUUID();\n        API.api_get_json(\"/checkin?uuid=\"+uuid).then(_userInfo=>{\n            this.setState({userInfo:_userInfo});\n        }).catch(err=>{\n            alert(\"check in failed\");\n        })\n    }\n\n    ipc(cmd, args){\n        console.log(\"desktop ipc \",cmd,args);\n       switch(cmd){\n  \n            case \"close\":\n                const pid = args[0];\n                const list = this.state.processes;\n                list[pid]=\"closed\";\n                this.setState({processes:list});\n                break;\n            case 'edit':\n                var plist = this.state.processes.concat({\"name\":\"iframe\",\n                        url:\"/api/files/edit?url=\"+args[0]+\"&context=\"+args[1]});\n                this.setState({processes:plist});\n                break;\n            case \"cam\":\n            case \"camera\":\n            case \"broadcast\":\n            case \"stream\":\n            case \"watch\":\n            case \"tty\":\n            case \"compose\":\n            case \"finder\":\n           \n                var plist = this.state.processes.concat({\"name\":cmd,\"args\":args});\n                this.setState({processes:plist});\n                break;\n            case \"hud-update\":\n                this.setState({userInfo:args});\n                 break;\n            case \"questlist\":\n                this.setState({quests:args});\n            break;\n        }\n    }\n\n    renderBody(){\n        return(\n            this.state.processes.map((proc,pid)=>{\n                console.log(proc,pid);\n                if(proc.state==='off') return null;\n                if(proc.name === 'tty'){\n                    return (\n                        <Terminal key='tty1' pid={pid} title='Telnet' ipc={this.ipc}/>\n                    );\n                }else if(proc.name==='camera'){\n                    return (\n                        <Camera userInfo={this.state.userInfo} pid={pid} title='Face 2 Face' ipc={this.ipc} />\n                    );\n                }else if(proc.name===\"stream\"){\n                    return (\n                        <Broadcast args={proc.args} channel={proc.args[0] || \"\"} pid={pid} title=\"Broadcast\" ipc={this.ipc} />\n                    )\n                }\n                else if(proc.name===\"watch\"){\n                    var channelName = proc.args[0] || \"default\";\n                    return (\n                        <Watch userInfo={this.state.userInfo} channelName={channelName} pid={pid} title=\"Watch\" ipc={this.ipc} />\n                    )\n                }else if(proc.name===\"iframe\"){\n                    return (\n                        <iframe width=\"90%\" height=\"80%\" src={proc.url}></iframe>\n                    )\n                }else if(proc.name==='finder'){\n                    var type = proc.args[0] || \"\";\n                    return (\n                        <Finder userInfo={this.state.userInfo} ipc={this.ipc} title=\"Finder\" fs_type={type}  ipc={this.ipc}></Finder>\n                    )\n                }else if(proc.name===\"compose\"){\n                    return(\n                        <Composer></Composer>\n                    )\n                }\n            })\n        )\n    }\n    renderHud(){\n        return this.state.userInfo ? \n            (<HUD username={this.state.userInfo.username}\n                cwd={this.state.userInfo.cwd}\n                fname={this.state.userInfo.fname}\n                xp={this.state.userInfo.xp} \n                gold={this.state.userInfo.gold} />)\n            : null;\n    }\n    renderSearchBar=()=>{\n        return (<SearchBar></SearchBar>)\n    }\n    renderQuestView(){\n        return(\n            <ListView className=\"quest-list\" title=\"quests\" list={this.state.quests} />\n        )\n    }\n    renderBackground(){\n        return(\n            <AppIconGrid icons={this.state.icons} ipc={this.ipc}></AppIconGrid>\n        )\n    }\n    render(){\n        return (\n            <div className='desktop'>\n                <nav style={{width:\"100vw\",height:\"18px\"}} className='navbar navbar-light bg-light'>\n                    <a className=\"navbar-brand\" href=\"#\">GrepAwk</a>\n\n                    <ul class=\"navbar-nav\">\n                    <li class=\"nav-item\">\n                         <a class=\"nav-link btn\" href=\"#\">Compose</a>\n                    </li>\n                    </ul>\n                    {this.renderHud()}\n                </nav>\n                <div style={{top:\"0\", position:\"absolute\", width:\"100vw\", height:\"calc(100% - 18px)\"}} >\n                    {this.renderBackground()}\n                    {this.renderBody()}\n                    {this.renderQuestView()}\n                    {this.renderSearchBar()}\n                </div>\n\n                \n            </div>\n        )\n    }\n}\nexport default Desktop;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n//import * as serviceWorker from './serviceWorker';\nimport Desktop from './Desktop'\nimport Finder from './FileExplorer/Finder'\nReactDOM.render(<Desktop />, document.getElementById('root'));\n//serviceWorker.unregister();\n"],"sourceRoot":""}